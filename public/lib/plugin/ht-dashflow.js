!function(K){"use strict";var v="ht",X=K[v],P=X.Default,Z=Math,b=(Z.PI,Z.sin,Z.cos,Z.atan2,Z.sqrt,Z.max),i=Z.floor,V=(Z.round,Z.ceil),x=X.Shape,J=(X.Edge,X.List),n=X.Style,Y=X.graph,H=P.getInternal(),r=H.ui(),j=null,e="prototype",m=K.clearInterval,o=K.setInterval,S=function(Y){var e=Y.data,T=this.dm();if(e&&"add"===Y.kind){var K=T.$1c,M=e instanceof x?"shape.":"edge.";K&&e.s(M+"dash.flow")&&K.indexOf(e)<0&&K.push(e)}"clear"===Y.kind&&(T.$1c=[])},C=function(H){var _=H.property,Y=H.data,C=H.newValue,B=this.dm().$1c,z=Y instanceof x?"s:shape.dash.flow":"s:edge.dash.flow";if(B&&_===z)if(C)B.indexOf(Y)<0&&B.push(Y);else for(var Q=B.length,y=0;Q>y;y++)if(B[y]===Y){B.splice(y,1);break}},G=Y.GraphView[e],p=r.EdgeUI[e],d=r.ShapeUI[e],T=d._80o,h=p._80o,D=X.DataModel[e],u=D.prepareRemove,s=G.setDataModel;n["edge.dash.flow.step"]==j&&(n["edge.dash.flow.step"]=3),n["shape.dash.flow.step"]==j&&(n["shape.dash.flow.step"]=3),D.prepareRemove=function(L){u.call(this,L);var A=L._dataModel,Y=A.$1c;if(Y)for(var Q=Y.length,M=0;Q>M;M++)if(Y[M]===L){Y.splice(M,1);break}},G.setDataModel=function(D){var G=this,Z=G._dataModel;if(Z!==D){Z&&(Z.umm(S,G),Z.umd(C,G),Z.$1c=[]),D.mm(S,G),D.md(C,G);var E=D.$1c=[];D.each(function(d){var t=d instanceof x?"shape.":"edge.";d.s(t+"dash.flow")&&E.indexOf(d)<0&&E.push(d)}),s.call(G,D)}},G.setDashFlowInterval=function(A){var S=this,N=S.$2c;S.$2c=A,S.fp("dashFlowInterval",N,A),S.$3c!=j&&(m(S.$3c),delete S.$3c,S.enableDashFlow(A))},G.getDashFlowInterval=function(){return this.$2c},G.$4c=function(){var O,Z,L,C=this,z=C.tx(),r=C.ty(),W=C._zoom,_=C.getWidth(),q=C.getHeight(),u={x:-z/W,y:-r/W,width:_/W,height:q/W},K=C.dm().$1c,h=C._56I,o=new J;if(K.forEach(function(A){h[A.getId()]&&(O=C.getDataUI(A),O&&(L=O._79o(),L&&o.add(L)))}),0!==o.size()&&(o.each(function(i){P.intersectsRect(u,i)&&(Z=P.unionRect(Z,i))}),Z&&(Z&&(P.grow(Z,b(1,1/W)),Z.x=i(Z.x*W)/W,Z.y=i(Z.y*W)/W,Z.width=V(Z.width*W)/W,Z.height=V(Z.height*W)/W,Z=P.intersection(u,Z)),Z))){var B=C._canvas.getContext("2d");B.save(),B.lineCap=P.lineCap,B.lineJoin=P.lineJoin,H.translateAndScale(B,z,r,W),B.beginPath(),B.rect(Z.x,Z.y,Z.width,Z.height),B.clip(),B.clearRect(Z.x,Z.y,Z.width,Z.height),C.$5c(B,Z),B.restore()}},G.$5c=function(g,w){var W,e,X=this;X._93db(g),X.each(function(u){X._56I[u._id]&&(W=X.getDataUI(u),W&&(e=W._79o(),(!w||P.intersectsRect(w,e))&&(W.$7c=!0,W._42(g),delete W.$7c)))}),X._92db(g)},G.enableDashFlow=function(O){var q=this;q.$3c==j&&(q.$3c=o(function(){q.$4c()},O||q.$2c||50))},G.disableDashFlow=function(){var R=this;m(R.$3c),delete R.$3c};var W=function(){var L=this,S=L._data,f=S instanceof x?"shape.":"edge.",p=S.s(f+"dash.pattern"),M=S.s(f+"dash.flow.reverse");if(p&&S.s(f+"dash")&&S.s(f+"dash.flow")&&L.$7c){var $=L.s(f+"dash.offset")||0,w=S.s(f+"dash.flow.step"),s=S.getStyleMap(),Z=0;p.forEach(function(P){Z+=P}),M&&(w=-w),$-=w,$%=Z,s||(S._styleMap=s={}),s[f+"dash.offset"]=$}};p._80o=function(w){h.call(this,w),W.call(this)},d._80o=function(F){T.call(this,F),W.call(this)}}("undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:(0,eval)("this"),Object);