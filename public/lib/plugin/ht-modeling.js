!function(G,f,P){"use strict";var w="ht",H=G[w],r=null,m=Math,d=m.PI,a=m.cos,X=m.sin,_=m.abs,$=m.max,t=m.sqrt,D=1e-5,O=H.Default,y=O.def,R=O.startAnim,i=O.createMatrix,h=O.transformVec,x=O.getInternal(),A=x.addMethod,c=x.superCall,U=x.toPointsArray,o=x.createNormals,V=x.toFloatArray,q=x.glMV,W=x.batchShape,n=x.createNodeMatrix,T=x.getFaceInfo,B=x.transformAppend,p=x.drawFaceInfo,v=x.createAnim,I=x.cube(),E=I.is,J=I.vs,S=I.uv,g=x.ui(),F=H.Node,s=H.Shape,L="h",z="v",C="front",Z="back",K="left",e="right",Q="top",k="bottom",M="dw.expanded",N=".expanded",l="dw.angle",u=".angle",Y=function(c,d,O){y(w+"."+c,d,O)},b=function(s,j,Q){Q?s.push(j.x,j.y):s.push(j.x,j.y,j.z)},j=[1,0,0],qb=function(K,Y,X,z){var L,V,Z,w,F=0,h=[];if(z)for(L=z.length;L>F;F+=3)V=z[F],Z=z[F+1],w=z[F+2],h.push(new or([new tq([Y[3*V],Y[3*V+1],Y[3*V+2]],j,X?[X[2*V],X[2*V+1],0]:r),new tq([Y[3*Z],Y[3*Z+1],Y[3*Z+2]],j,X?[X[2*Z],X[2*Z+1],0]:r),new tq([Y[3*w],Y[3*w+1],Y[3*w+2]],j,X?[X[2*w],X[2*w+1],0]:r)],K));else for(L=Y.length;L>F;F+=3)V=F,Z=F+1,w=F+2,h.push(new or([new tq([Y[3*V],Y[3*V+1],Y[3*V+2]],j,X?[X[2*V],X[2*V+1],0]:r),new tq([Y[3*Z],Y[3*Z+1],Y[3*Z+2]],j,X?[X[2*Z],X[2*Z+1],0]:r),new tq([Y[3*w],Y[3*w+1],Y[3*w+2]],j,X?[X[2*w],X[2*w+1],0]:r)],K));return h},Xd=[K,C,e,Z,Q,k],Kr=Xd.concat("csg"),pf=[0,6,12,18,24,30],pr=function(c,k,x){for(var U=n(c),M=[],o=0;6>o;o++)for(var e=Xd[o],Y=pf[o],I=x?k.getFaceUv(c,e):r,p=x?k.getFaceUvScale(c,e):r,V=x?k.getFaceUvOffset(c,e):r,s=0;2>s;s++){var v,L,G,w=E[Y+3*s],P=E[Y+3*s+1],q=E[Y+3*s+2];if(x){if(I){var C=8*o;v=[I[2*w-C],I[2*w+1-C],0],L=[I[2*P-C],I[2*P+1-C],0],G=[I[2*q-C],I[2*q+1-C],0]}else v=[S[2*w],S[2*w+1],0],L=[S[2*P],S[2*P+1],0],G=[S[2*q],S[2*q+1],0];p&&(v[0]*=p[0],v[1]*=p[1],L[0]*=p[0],L[1]*=p[1],G[0]*=p[0],G[1]*=p[1]),V&&(v[0]+=V[0],v[1]+=V[1],L[0]+=V[0],L[1]+=V[1],G[0]+=V[0],G[1]+=V[1])}M.push(new or([new tq(h([J[3*w],J[3*w+1],J[3*w+2]],U),j,v),new tq(h([J[3*P],J[3*P+1],J[3*P+2]],U),j,L),new tq(h([J[3*q],J[3*q+1],J[3*q+2]],U),j,G)],c))}return $c.$15n(M)},Ik=function(X,R){var K,N=X.data.getAttaches();if(N&&N.each(function(b){b instanceof Fn&&b.s("attach.operation")&&(K||(K=[]),K.push(b))}),K){var O;Xd.forEach(function(s){var I=qb(s,X[s].vs,X[s].tuv);O=O?O.concat(I):I}),O=$c.$15n(O),K.forEach(function(l){var m=l.s("attach.operation");O[m]&&(O=O[m](pr(l,X.gv,X.csg.tuv)))}),Xd.forEach(function(D){D=X[D],D.vs=[],D.tuv&&(D.tuv=[])}),O.$19n().forEach(function(p){var s=p.$10n;if(s instanceof Fn){if(s.s("attach.cull"))return;s="csg"}for(var l=X[s],F=l.vs,C=l.tuv,Y=p.$9n,E=2;E<Y.length;E++)b(F,Y[0].$24n),b(F,Y[E-1].$24n),b(F,Y[E].$24n),C&&(b(C,Y[0].uv,!0),b(C,Y[E-1].uv,!0),b(C,Y[E].uv,!0))})}Kr.forEach(function(l){var p=X[l];p.visible&&p.vs.length?(p.ns=o(p.vs),V(p,"vs"),V(p,"tuv")):delete X[l]}),R&&(W(X,r,R),X.clear())};A(O,{createFrameModel:function(e,q,G,W){e=e==r?.07:e,q=q==r?e:q,G=G==r?e:G,W=W?W:{};var K=W.top,n=W.bottom,d=W.left,E=W.right,F=W.front,s=W.back,$=[],i=[];return F===!0?($.push(-.5,.5,.5,-.5,-.5,.5,.5,-.5,.5,.5,-.5,.5,.5,.5,.5,-.5,.5,.5),i.push(0,0,0,1,1,1,1,1,1,0,0,0)):F===!1||($.push(-.5,.5,.5,-.5,-.5,.5,-.5+e,-.5,.5,-.5+e,-.5,.5,-.5+e,.5,.5,-.5,.5,.5,.5-e,.5,.5,.5-e,-.5,.5,.5,-.5,.5,.5,-.5,.5,.5,.5,.5,.5-e,.5,.5,-.5+e,.5,.5,-.5+e,.5-q,.5,.5-e,.5-q,.5,.5-e,.5-q,.5,.5-e,.5,.5,-.5+e,.5,.5,-.5+e,-.5+q,.5,-.5+e,-.5,.5,.5-e,-.5,.5,.5-e,-.5,.5,.5-e,-.5+q,.5,-.5+e,-.5+q,.5),i.push(0,0,0,1,e,1,e,1,e,0,0,0,1-e,0,1-e,1,1,1,1,1,1,0,1-e,0,e,0,e,q,1-e,q,1-e,q,1-e,0,e,0,e,1-q,e,1,1-e,1,1-e,1,1-e,1-q,e,1-q)),s===!0?($.push(-.5,.5,-.5,.5,-.5,-.5,-.5,-.5,-.5,.5,-.5,-.5,-.5,.5,-.5,.5,.5,-.5),i.push(1,0,0,1,1,1,0,1,1,0,0,0)):s===!1||($.push(-.5,.5,-.5,-.5+e,-.5,-.5,-.5,-.5,-.5,-.5+e,-.5,-.5,-.5,.5,-.5,-.5+e,.5,-.5,.5-e,.5,-.5,.5,-.5,-.5,.5-e,-.5,-.5,.5,-.5,-.5,.5-e,.5,-.5,.5,.5,-.5,-.5+e,.5,-.5,.5-e,.5-q,-.5,-.5+e,.5-q,-.5,.5-e,.5-q,-.5,-.5+e,.5,-.5,.5-e,.5,-.5,-.5+e,-.5+q,-.5,.5-e,-.5,-.5,-.5+e,-.5,-.5,.5-e,-.5,-.5,-.5+e,-.5+q,-.5,.5-e,-.5+q,-.5),i.push(1,0,1-e,1,1,1,1-e,1,1,0,1-e,0,e,0,0,1,e,1,0,1,e,0,0,0,1-e,0,e,q,1-e,q,e,q,1-e,0,e,0,1-e,1-q,e,1,1-e,1,e,1,1-e,1-q,e,1-q)),d===!0?($.push(-.5,.5,-.5,-.5,-.5,-.5,-.5,-.5,.5,-.5,-.5,.5,-.5,.5,.5,-.5,.5,-.5),i.push(0,0,0,1,1,1,1,1,1,0,0,0)):d===!1||($.push(-.5,.5,-.5,-.5,-.5,-.5,-.5,-.5,-.5+G,-.5,-.5,-.5+G,-.5,.5,-.5+G,-.5,.5,-.5,-.5,.5,.5-G,-.5,-.5,.5-G,-.5,-.5,.5,-.5,-.5,.5,-.5,.5,.5,-.5,.5,.5-G,-.5,.5,-.5+G,-.5,.5-q,-.5+G,-.5,.5-q,.5-G,-.5,.5-q,.5-G,-.5,.5,.5-G,-.5,.5,-.5+G,-.5,-.5+q,-.5+G,-.5,-.5,-.5+G,-.5,-.5,.5-G,-.5,-.5,.5-G,-.5,-.5+q,.5-G,-.5,-.5+q,-.5+G),i.push(0,0,0,1,G,1,G,1,G,0,0,0,1-G,0,1-G,1,1,1,1,1,1,0,1-G,0,G,0,G,q,1-G,q,1-G,q,1-G,0,G,0,G,1-q,G,1,1-G,1,1-G,1,1-G,1-q,G,1-q)),E===!0?($.push(.5,.5,-.5,.5,-.5,.5,.5,-.5,-.5,.5,-.5,.5,.5,.5,-.5,.5,.5,.5),i.push(1,0,0,1,1,1,0,1,1,0,0,0)):E===!1||($.push(.5,.5,-.5,.5,-.5,-.5+G,.5,-.5,-.5,.5,-.5,-.5+G,.5,.5,-.5,.5,.5,-.5+G,.5,.5,.5-G,.5,-.5,.5,.5,-.5,.5-G,.5,-.5,.5,.5,.5,.5-G,.5,.5,.5,.5,.5,-.5+G,.5,.5-q,.5-G,.5,.5-q,-.5+G,.5,.5-q,.5-G,.5,.5,-.5+G,.5,.5,.5-G,.5,-.5+q,-.5+G,.5,-.5,.5-G,.5,-.5,-.5+G,.5,-.5,.5-G,.5,-.5+q,-.5+G,.5,-.5+q,.5-G),i.push(1,0,1-G,1,1,1,1-G,1,1,0,1-G,0,G,0,0,1,G,1,0,1,G,0,0,0,1-G,0,G,q,1-G,q,G,q,1-G,0,G,0,1-G,1-q,G,1,1-G,1,G,1,1-G,1-q,G,1-q)),K===!0?($.push(.5,.5,.5,.5,.5,-.5,-.5,.5,-.5,-.5,.5,-.5,-.5,.5,.5,.5,.5,.5),i.push(1,1,1,0,0,0,0,0,0,1,1,1)):K===!1||($.push(.5,.5,.5,.5,.5,-.5,.5-e,.5,-.5,.5-e,.5,-.5,.5-e,.5,.5,.5,.5,.5,-.5+e,.5,.5,-.5+e,.5,-.5,-.5,.5,-.5,-.5,.5,-.5,-.5,.5,.5,-.5+e,.5,.5,.5-e,.5,.5,.5-e,.5,.5-G,-.5+e,.5,.5-G,-.5+e,.5,.5-G,-.5+e,.5,.5,.5-e,.5,.5,.5-e,.5,-.5+G,.5-e,.5,-.5,-.5+e,.5,-.5,-.5+e,.5,-.5,-.5+e,.5,-.5+G,.5-e,.5,-.5+G),i.push(1,1,1,0,1-e,0,1-e,0,1-e,1,1,1,e,1,e,0,0,0,0,0,0,1,e,1,1-e,1,1-e,1-G,e,1-G,e,1-G,e,1,1-e,1,1-e,G,1-e,0,e,0,e,0,e,G,1-e,G)),n===!0?($.push(.5,-.5,.5,-.5,-.5,-.5,.5,-.5,-.5,-.5,-.5,-.5,.5,-.5,.5,-.5,-.5,.5),i.push(1,0,0,1,1,1,0,1,1,0,0,0)):n===!1||($.push(.5,-.5,.5,.5-e,-.5,-.5,.5,-.5,-.5,.5-e,-.5,-.5,.5,-.5,.5,.5-e,-.5,.5,-.5+e,-.5,.5,-.5,-.5,-.5,-.5+e,-.5,-.5,-.5,-.5,-.5,-.5+e,-.5,.5,-.5,-.5,.5,.5-e,-.5,.5,-.5+e,-.5,.5-G,.5-e,-.5,.5-G,-.5+e,-.5,.5-G,.5-e,-.5,.5,-.5+e,-.5,.5,.5-e,-.5,-.5+G,-.5+e,-.5,-.5,.5-e,-.5,-.5,-.5+e,-.5,-.5,.5-e,-.5,-.5+G,-.5+e,-.5,-.5+G),i.push(1,0,1-e,1,1,1,1-e,1,1,0,1-e,0,e,0,0,1,e,1,0,1,e,0,0,0,1-e,0,e,G,1-e,G,e,G,1-e,0,e,0,1-e,1-G,e,1,1-e,1,e,1,1-e,1-G,e,1-G)),{vs:$,uv:i}}}),A(H.Style,{"dw.flip":!1,"dw.s3":[.999,.999,.5],"dw.t3":P,"dw.expanded":!1,"dw.toggleable":!0,"dw.axis":"left","dw.start":0,"dw.end":d/2,"dw.angle":0,"attach.cull":!1,"attach.operation":"subtract"},!0),Xd.forEach(function(t){var z={};z[t+N]=!1,z[t+".toggleable"]=!1,z[t+".axis"]=K,z[t+".start"]=0,z[t+".end"]=d/2,z[t+u]=0,A(H.Style,z,!0)});var $c=function(){this.$4n=[]};$c.$15n=function(E){var I=new $c;return I.$4n=E,I},$c.prototype={clone:function(){var x=new $c;return x.$4n=this.$4n.map(function(s){return s.clone()}),x},$19n:function(){return this.$4n},union:function(p){var Z=new Gb(this.clone().$4n),_=new Gb(p.clone().$4n);return Z.$3n(_),_.$3n(Z),_.$6n(),_.$3n(Z),_.$6n(),Z.$7n(_.$2n()),$c.$15n(Z.$2n())},subtract:function(N){var L=new Gb(this.clone().$4n),Y=new Gb(N.clone().$4n);return L.$6n(),L.$3n(Y),Y.$3n(L),Y.$6n(),Y.$3n(L),Y.$6n(),L.$7n(Y.$2n()),L.$6n(),$c.$15n(L.$2n())},intersect:function(K){var Z=new Gb(this.clone().$4n),$=new Gb(K.clone().$4n);return Z.$6n(),$.$3n(Z),$.$6n(),Z.$3n($),$.$3n(Z),Z.$7n($.$2n()),Z.$6n(),$c.$15n(Z.$2n())},inverse:function(){var f=this.clone();return f.$4n.map(function(i){i.flip()}),f}},$c.cube=function(o){o=o||{};var P=new ob(o.center||[0,0,0]),$=o.radius?o.radius.length?o.radius:[o.radius,o.radius,o.radius]:[1,1,1];return $c.$15n([[[0,4,6,2],[-1,0,0]],[[1,3,7,5],[1,0,0]],[[0,1,5,4],[0,-1,0]],[[2,6,7,3],[0,1,0]],[[0,2,3,1],[0,0,-1]],[[4,5,7,6],[0,0,1]]].map(function(w){return new or(w[0].map(function(I){var Z=new ob(P.x+$[0]*(2*!!(1&I)-1),P.y+$[1]*(2*!!(2&I)-1),P.z+$[2]*(2*!!(4&I)-1));return new tq(Z,new ob(w[1]))}))}))},$c.sphere=function(i){function C(N,r){N*=2*d,r*=d;var I=new ob(a(N)*X(r),a(r),X(N)*X(r));c.push(new tq(e.$20n(I.$21n(E)),I))}i=i||{};for(var c,e=new ob(i.center||[0,0,0]),E=i.radius||1,R=i.slices||16,N=i.stacks||8,I=[],m=0;R>m;m++)for(var Y=0;N>Y;Y++)c=[],C(m/R,Y/N),Y>0&&C((m+1)/R,Y/N),N-1>Y&&C((m+1)/R,(Y+1)/N),C(m/R,(Y+1)/N),I.push(new or(c));return $c.$15n(I)},$c.cylinder=function(S){function D(Z,g,I){var k=2*g*d,Q=e.$21n(a(k)).$20n(w.$21n(X(k))),o=J.$20n(W.$21n(Z)).$20n(Q.$21n(x)),B=Q.$21n(1-_(I)).$20n(O.$21n(I));return new tq(o,B)}S=S||{};for(var J=new ob(S.start||[0,-1,0]),$=new ob(S.end||[0,1,0]),W=$.$13n(J),x=S.radius||1,z=S.slices||16,O=W.$14n(),c=_(O.y)>.5,e=new ob(c,!c,0).$12n(O).$14n(),w=e.$12n(O).$14n(),E=new tq(J,O.$11n()),F=new tq($,O.$14n()),G=[],k=0;z>k;k++){var C=k/z,v=(k+1)/z;G.push(new or([E,D(0,C,-1),D(0,v,-1)])),G.push(new or([D(0,v,0),D(0,C,0),D(1,C,0),D(1,v,0)])),G.push(new or([F,D(1,v,1),D(1,C,1)]))}return $c.$15n(G)};var ob=function(h,Q,M){var K=this;3==arguments.length?(K.x=h,K.y=Q,K.z=M):"x"in h?(K.x=h.x,K.y=h.y,K.z=h.z):(K.x=h[0],K.y=h[1],K.z=h[2])};ob.prototype={clone:function(){return new ob(this.x,this.y,this.z)},$11n:function(){return new ob(-this.x,-this.y,-this.z)},$20n:function(K){return new ob(this.x+K.x,this.y+K.y,this.z+K.z)},$13n:function(d){return new ob(this.x-d.x,this.y-d.y,this.z-d.z)},$21n:function(e){return new ob(this.x*e,this.y*e,this.z*e)},$16n:function(l){return new ob(this.x/l,this.y/l,this.z/l)},$23n:function(F){return this.x*F.x+this.y*F.y+this.z*F.z},lerp:function(E,_){return this.$20n(E.$13n(this).$21n(_))},length:function(){return t(this.$23n(this))},$14n:function(){return this.$16n(this.length())},$12n:function(d){var t=this;return new ob(t.y*d.z-t.z*d.y,t.z*d.x-t.x*d.z,t.x*d.y-t.y*d.x)}};var tq=function(r,t,G){var i=this;i.$24n=new ob(r),i.$22n=new ob(t),i.uv=G?new ob(G):null};tq.prototype={clone:function(){var K=this;return new tq(K.$24n.clone(),K.$22n.clone(),K.uv?K.uv.clone():null)},flip:function(){this.$22n=this.$22n.$11n()},$18n:function(y,F){var N=this;return new tq(N.$24n.lerp(y.$24n,F),N.$22n.lerp(y.$22n,F),N.uv?N.uv.lerp(y.uv,F):null)}};var pb=function(Z,j){this.$22n=Z,this.w=j};pb.$17n=function(G,E,r){var D=E.$13n(G).$12n(r.$13n(G)).$14n();return new pb(D,D.$23n(G))},pb.prototype={clone:function(){return new pb(this.$22n.clone(),this.w)},flip:function(){var x=this;x.$22n=x.$22n.$11n(),x.w=-x.w},$5n:function(X,$,B,U,c){for(var Z=this,h=0,k=1,u=2,q=3,r=0,w=[],l=0;l<X.$9n.length;l++){var y=Z.$22n.$23n(X.$9n[l].$24n)-Z.w,Q=-D>y?u:y>D?k:h;r|=Q,w.push(Q)}switch(r){case h:(Z.$22n.$23n(X.$8n.$22n)>0?$:B).push(X);break;case k:U.push(X);break;case u:c.push(X);break;case q:for(var N=[],d=[],l=0;l<X.$9n.length;l++){var p=(l+1)%X.$9n.length,m=w[l],K=w[p],W=X.$9n[l],R=X.$9n[p];if(m!=u&&N.push(W),m!=k&&d.push(m!=u?W.clone():W),(m|K)==q){var y=(Z.w-this.$22n.$23n(W.$24n))/Z.$22n.$23n(R.$24n.$13n(W.$24n)),s=W.$18n(R,y);N.push(s),d.push(s.clone())}}N.length>=3&&U.push(new or(N,X.$10n)),d.length>=3&&c.push(new or(d,X.$10n))}}};var or=function(H,R){var W=this;W.$9n=H,W.$10n=R,W.$8n=pb.$17n(H[0].$24n,H[1].$24n,H[2].$24n)};or.prototype={clone:function(){var D=this.$9n.map(function(q){return q.clone()});return new or(D,this.$10n)},flip:function(){this.$9n.reverse().map(function(Z){Z.flip()}),this.$8n.flip()}};var Gb=function(v){var o=this;o.$8n=null,o.front=null,o.back=null,o.$4n=[],v&&o.$7n(v)};Gb.prototype={clone:function(){var c=this,o=new Gb;return o.$8n=c.$8n&&c.$8n.clone(),o.front=c.front&&c.front.clone(),o.back=c.back&&c.back.clone(),o.$4n=c.$4n.map(function(F){return F.clone()}),o},$6n:function(){for(var M=this,E=0;E<M.$4n.length;E++)M.$4n[E].flip();M.$8n.flip(),M.front&&M.front.$6n(),M.back&&M.back.$6n();var x=M.front;M.front=M.back,M.back=x},$1n:function(I){var b=this;if(!b.$8n)return I.slice();for(var l=[],z=[],a=0;a<I.length;a++)b.$8n.$5n(I[a],l,z,l,z);return b.front&&(l=b.front.$1n(l)),z=b.back?b.back.$1n(z):[],l.concat(z)},$3n:function(Y){var h=this;h.$4n=Y.$1n(h.$4n),h.front&&h.front.$3n(Y),h.back&&h.back.$3n(Y)},$2n:function(){var B=this,K=B.$4n.slice();return B.front&&(K=K.concat(B.front.$2n())),B.back&&(K=K.concat(B.back.$2n())),K},$7n:function(v){var O=this;if(v.length){O.$8n||(O.$8n=v[0].$8n.clone());for(var C=[],H=[],h=0;h<v.length;h++)this.$8n.$5n(v[h],O.$4n,O.$4n,C,H);C.length&&(O.front||(O.front=new Gb),this.front.$7n(C)),H.length&&(O.back||(O.back=new Gb),O.back.$7n(H))}}};var Dj="symbol",zo=H.Symbol=function(h,p,Z){var G=this;c(zo,G),G.s3(20,20,20),G.s({"all.visible":!1,shape:"rect"}),G.setIcon(h,p,Z)};Y("Symbol",F,{setIcon:function(w,Z,d){var e,F=this;return zo.superClass.setIcon.call(F,w),w?(e={for3d:!0,face:"center",position:44,names:[w]},d&&(e.transaprent=!0),Z&&(e.autorotate=Z),F.addStyleIcon(Dj,e)):F.removeStyleIcon(Dj),F.setWidth(x.getImageWidth(O.getImage(w),F)||20),e}});var Fn=H.CSGNode=function(){c(Fn,this),this.s({shape:"rect","attach.thickness":1.001})},Tc={position:1,width:1,height:1,rotation:1,rotationX:1,rotationZ:1,rotationMode:1,tall:1,elevation:1,"s:attach.cull":1,"s:attach.operation":1};Y("CSGNode",F,{_22Q:function(){return is},onPropertyChanged:function(k){var s=this,G=s.getHost();Fn.superClass.onPropertyChanged.call(s,k),Tc[k.property]&&(G instanceof Xj||G instanceof Fn)&&G.fp("csgNodeChange",!0,!1)}});var is=function(H,d){c(is,this,[H,d])};y(is,g.Node3dUI,{_80o:function(B,r,w){var i=this;i._shape3d?is.superClass._80o.call(i,B,r,w):(q(i.gv),Kr.forEach(function(o){p(i,B,r,i[o],w)}))},validate:function(s,I){var P=this,r=P.gv,o=P.data;if(o.s("shape3d"))return is.superClass.validate.call(P,s,I),P._shape3d=!0,void 0;P._shape3d=!1;var b=n(o,r.getMat(o)),L=s&&s.uv;P.vf2("csg",L);for(var N=0;6>N;N++)for(var V=Xd[N],t=pf[N],W=P.vf2(V,L,I),M=W.mat||b,d=W.vs,g=W.uv,f=W.tuv,_=0;2>_;_++){var j=E[t+3*_],X=E[t+3*_+1],z=E[t+3*_+2];if(B(d,M,[J[3*j],J[3*j+1],J[3*j+2]]),B(d,M,[J[3*X],J[3*X+1],J[3*X+2]]),B(d,M,[J[3*z],J[3*z+1],J[3*z+2]]),f)if(g){var c=8*N;f.push(g[2*j-c],g[2*j+1-c],g[2*X-c],g[2*X+1-c],g[2*z-c],g[2*z+1-c])}else f.push(S[2*j],S[2*j+1],S[2*X],S[2*X+1],S[2*z],S[2*z+1])}Ik(P,s,I)},vf2:function(z,M,Q){var $,C=this,H=C.gv.getFaceVisible(C.data,z);return $=T(C,z,Q),$.vs=[],$.tuv=H&&($.texture||M)?[]:r,$.visible=H,$}});var Xj=H.CSGShape=function(){var G=this;c(Xj,G),G.s({"shape.background":r,"shape.border.width":8}),G.setTall(240),G.setElevation(120),G.setThickness(14)};Y("CSGShape",s,{IRotatable:!1,_22Q:function(){return Qi},setRotationX:function(){},setRotation:function(){},setRotationZ:function(){},setSegments:function(){}});var Qi=function(y,P){c(Qi,this,[y,P])};y(Qi,g.Shape3dUI,{_80o:function(D,$,I){var n=this;n.undrawable||(q(n.gv),Kr.forEach(function(X){p(n,D,$,n[X],I)}))},validate:function(E,R){var d=this,S=d.data,l=S.getPoints();if(d.undrawable=l.size()<2)return d.clear(),void 0;var L=S.isClosePath(),u=$(S._thickness/2,D),B=U(l,r,r,L);Kr.forEach(function(z){d.vf(z,E&&E.uv,!0,R)}),L&&(d.left.visible=!1,d.right.visible=!1),d._12O(B,u),d._20Q(B),Ik(d,E,R)}});var om=H.DoorWindow=function(){var t=this;c(om,t),t.setElevation(100),t.s3(100,200,14)};Y("DoorWindow",Fn,{IDoorWindow:!0,toggle:function(g){this.setExpanded(!this.s(M),g)},isExpanded:function(){return this.s(M)},setExpanded:function(g,C){var X=this,z=X.$25n,j=X.getDataModel(),B=X.s(M);if(z&&(z.stop(!0),delete X.$25n),B!==g){j&&j.beginTransaction();var x=g?X.s("dw.end"):X.s("dw.start");X.s(M,g),C=v(C),C?(B=X.s(l),C.action=function(Y){X.s(l,B+(x-B)*Y)},C.finishFunc=function(){j&&j.endTransaction()},X.$25n=R(C)):(X.s(l,x),j&&j.endTransaction())}},getMat:function(){var $=this,t=$.s("dw.s3"),u=$.s("dw.t3"),M=$.s("dw.flip"),m=$.s(l);if(t||m||u||M){var a=[];if(M&&a.push({r3:[0,d,0]}),t&&a.push({s3:t}),m){t=$.s3();var B=$.s("dw.axis"),h=t[0]/2,p=t[1]/2;t[2]/2,B===K?a.push({t3:[h,0,0]},{r3:[0,-m,0]},{t3:[-h,0,0]}):B===e?a.push({t3:[-h,0,0]},{r3:[0,m,0]},{t3:[h,0,0]}):B===Q?a.push({t3:[0,-p,0]},{r3:[-m,0,0]},{t3:[0,p,0]}):B===k?a.push({t3:[0,p,0]},{r3:[m,0,0]},{t3:[0,-p,0]}):B===z?a.push({r3:[0,m,0]}):B===L&&a.push({r3:[m,0,0]})}return u&&a.push({t3:u}),i(a)}return r}});var tb=H.CSGBox=function(){var Y=this;c(tb,Y),Y.setElevation(100),Y.s3(100,200,100)};Y("CSGBox",Fn,{ICSGBox:!0,toggleFace:function(r,F){this.setFaceExpanded(r,!this.s(r+N),F)},isFaceExpanded:function(C){return this.s(C+N)},setFaceExpanded:function(Q,g,c){var b=this,l=b.$25n,o=b.s(Q+N);if(l&&(l.stop(!0),delete b.$25n),o!==g){var C=g?b.s(Q+".end"):b.s(Q+".start");b.s(Q+N,g),c=v(c),c?(o=b.s(Q+u),c.action=function(O){b.s(Q+u,o+(C-o)*O)},b.$25n=R(c)):b.s(Q+u,C)}},getFaceMat:function(U){var t=this,B=t.s(U+u);if(!B)return r;var X=t.s(U+".axis"),N=t.s3(),A=N[0]/2,f=N[1]/2,x=N[2]/2,s=[];return U===C&&(X===K?s.push({t3:[A,0,-x]},{r3:[0,-B,0]},{t3:[-A,0,x]}):X===e?s.push({t3:[-A,0,-x]},{r3:[0,B,0]},{t3:[A,0,x]}):X===Q?s.push({t3:[0,-f,-x]},{r3:[-B,0,0]},{t3:[0,f,x]}):X===k?s.push({t3:[0,f,-x]},{r3:[B,0,0]},{t3:[0,-f,x]}):X===z?s.push({t3:[0,0,-x]},{r3:[0,B,0]},{t3:[0,0,x]}):X===L&&s.push({t3:[0,0,-x]},{r3:[B,0,0]},{t3:[0,0,x]})),U===Z&&(X===K?s.push({t3:[-A,0,x]},{r3:[0,-B,0]},{t3:[A,0,-x]}):X===e?s.push({t3:[A,0,x]},{r3:[0,B,0]},{t3:[-A,0,-x]}):X===Q?s.push({t3:[0,-f,x]},{r3:[B,0,0]},{t3:[0,f,-x]}):X===k?s.push({t3:[0,f,x]},{r3:[-B,0,0]},{t3:[0,-f,-x]}):X===z?s.push({t3:[0,0,x]},{r3:[0,B,0]},{t3:[0,0,-x]}):X===L&&s.push({t3:[0,0,x]},{r3:[B,0,0]},{t3:[0,0,-x]})),U===K&&(X===K?s.push({t3:[A,0,x]},{r3:[0,-B,0]},{t3:[-A,0,-x]}):X===e?s.push({t3:[A,0,-x]},{r3:[0,B,0]},{t3:[-A,0,x]}):X===Q?s.push({t3:[A,-f,0]},{r3:[0,0,-B]},{t3:[-A,f,0]}):X===k?s.push({t3:[A,f,0]},{r3:[0,0,B]},{t3:[-A,-f,0]}):X===z?s.push({t3:[A,0,0]},{r3:[0,B,0]},{t3:[-A,0,0]}):X===L&&s.push({t3:[A,0,0]},{r3:[0,0,B]},{t3:[-A,0,0]})),U===e&&(X===K?s.push({t3:[-A,0,-x]},{r3:[0,-B,0]},{t3:[A,0,x]}):X===e?s.push({t3:[-A,0,x]},{r3:[0,B,0]},{t3:[A,0,-x]}):X===Q?s.push({t3:[-A,-f,0]},{r3:[0,0,B]},{t3:[A,f,0]}):X===k?s.push({t3:[-A,f,0]},{r3:[0,0,-B]},{t3:[A,-f,0]}):X===z?s.push({t3:[-A,0,0]},{r3:[0,B,0]},{t3:[A,0,0]}):X===L&&s.push({t3:[-A,0,0]},{r3:[0,0,B]},{t3:[A,0,0]})),U===Q&&(X===K?s.push({t3:[A,-f,0]},{r3:[0,0,B]},{t3:[-A,f,0]}):X===e?s.push({t3:[-A,-f,0]},{r3:[0,0,-B]},{t3:[A,f,0]}):X===Q?s.push({t3:[0,-f,x]},{r3:[-B,0,0]},{t3:[0,f,-x]}):X===k?s.push({t3:[0,-f,-x]},{r3:[B,0,0]},{t3:[0,f,x]}):X===z?s.push({t3:[0,-f,0]},{r3:[0,0,B]},{t3:[0,f,0]}):X===L&&s.push({t3:[0,-f,0]},{r3:[B,0,0]},{t3:[0,f,0]})),U===k&&(X===K?s.push({t3:[A,f,0]},{r3:[0,0,-B]},{t3:[-A,-f,0]}):X===e?s.push({t3:[-A,f,0]},{r3:[0,0,B]},{t3:[A,-f,0]}):X===Q?s.push({t3:[0,f,-x]},{r3:[-B,0,0]},{t3:[0,-f,x]}):X===k?s.push({t3:[0,f,x]},{r3:[B,0,0]},{t3:[0,-f,-x]}):X===z?s.push({t3:[0,f,0]},{r3:[0,0,B]},{t3:[0,-f,0]}):X===L&&s.push({t3:[0,f,0]},{r3:[B,0,0]},{t3:[0,-f,0]})),i(s)}})}("undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:(0,eval)("this"),Object);