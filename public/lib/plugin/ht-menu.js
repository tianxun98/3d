!function(E,V){"use strict";var t="ht",_=E[t],K="innerHTML",G="className",W=null,$="px",y=_.Default,Q=y.getInternal(),w="0",q=function(){return document},v=function(S){return q().createElement(S)},X=function(){return v("canvas")},R=function(y,g,w){y.style.setProperty(g,w,W)},b=function(w,t,v){y.def(_.widget[w],t,v)},P=function(V,y){V.appendChild(y)},F=function(Y,t){Y.removeChild(t)},h=y.eventListenerOptionsFalse,M=(y.eventListenerOptionsTrue,function(u,I,Q,W){u.addEventListener(I,Q,W?h:h)}),p=function(W,F,x,Q){W.removeEventListener(F,x,Q?h:h)},g=y.isTouchable;Q.addMethod(y,{menuLabelFont:(g?"16":"13")+"px arial, sans-serif",menuLabelColor:"#000",menuBackground:"#F0EFEE",menuHoverBackground:"#648BFE",menuHoverLabelColor:"#fff",menuSeparatorWidth:1,menuSeparatorColor:"#999"},!0),_.widget.Menu=function(D){var l=this,c=l._view=Q.createView(null,l),M=l.$1g=new _.widget.ContextMenu,t=v("ul");M._r=!0,M._view[G]+=" ht-widget-dropdownmenu",c[G]="ht-widget-menu",t[G]="header",R(c,"margin",w),R(c,"padding",w),R(c,"background",y.menuBackground),R(c,"-webkit-user-select","none"),R(c,"-moz-user-select","none"),R(c,"user-select","none"),R(c,"text-align","left"),R(c,"border-bottom",y.menuSeparatorWidth+"px solid "+y.menuSeparatorColor),R(c,"cursor","default"),R(c,"overflow","auto"),R(c,"white-space","nowrap"),R(c,"font",y.menuLabelFont),R(c,"color",y.menuLabelColor),R(c,"box-sizing","border-box"),R(c,"-moz-box-sizing","border-box"),R(t,"list-style","none"),R(t,"margin",w),R(t,"padding",w),R(t,"display","inline-block"),P(c,t),l.setItems(D),l.$2g=function(D){l.$3g(D)},l.$4g=function(C){l.$5g(C)},l.$6g=function(o){l.$7g(o)},l.$8g=function(E){l.$9g(E)},l.$9b=function(j){l.$10g(j)},l._autoShow=!0,l.setAutoShow(!1),M.afterHide=function(){l.$11g()},M.afterShow=function(){l.$12g()},p(q(),"keydown",M.$3b),l.$3b=function(X){l.$13g(X)},l.invalidate()},b("Menu",V,{_items:W,$14g:y.menuHoverBackground,$15g:y.menuHoverLabelColor,$16g:{},_enableGlobalKey:!1,ms_v:1,$21g:"smallicons",$22g:0,$23g:0,$24g:"left",getDropDownMenu:function(){return this.$1g},setLayout:function(n){var a=this;if(a.$21g=n,a.setItems(a._items),"largeicons"===n){for(var x=a._view.querySelectorAll(".header-item"),G=0,c=0;c<x.length;c++){var j=x[c];G=Math.max(G,j.clientWidth)}for(var c=0;c<x.length;c++){var j=x[c];R(j,"min-width",G+$)}}this.invalidate()},getLayout:function(){return this.$21g},setHeaderItemHGap:function(m){this.$22g=m;for(var A=this._view.querySelectorAll(".header-item"),B=0;B<A.length;B++){var j=A[B];R(j,"margin-left",m+$),R(j,"margin-right",m+$)}},getHeaderItemHGap:function(){return this.$22g},setHeaderItemVGap:function(l){this.$23g=l;for(var u=this._view.querySelectorAll(".header-item"),D=0;D<u.length;D++){var w=u[D];R(w,"margin-top",l+$),R(w,"margin-bottom",l+$)}},getHeaderItemVGap:function(){return this.$24g},setHeaderItemAlign:function(P){this.$24g=P,R(this._view,"text-align",P)},getHeaderItemAlign:function(){return this.$23g},enableGlobalKey:function(){var h=this,y=h._enableGlobalKey;y===!1&&(M(q(),"keydown",h.$3b),h._enableGlobalKey=!0)},disableGlobalKey:function(){this._enableGlobalKey=!1,p(q(),"keydown",this.$3b)},setHoverBackground:function(Z){this.$14g=Z},setHoverColor:function(v){this.$15g=v},setItems:function(Q){var w=this,m=w._view,F=w.$21g;if(w._items=Q,m.children[0][K]="",w.$16g={},Q&&Q.length){for(var V=m.children[0],x=0,o=q().createDocumentFragment();x<Q.length;x++){var y=Q[x],s=v("li"),e=v("span");if(y.icon){var L=X();L[G]="menu-item-icon","smallicons"===F?(R(L,"height","1.2em"),R(L,"width","1.2em"),R(L,"vertical-align","middle")):(R(L,"height","32px"),R(L,"width","32px"),R(L,"display","block"),R(L,"margin","0 auto")),L.$20g=y.icon,P(s,L)}s[G]="header-item",R(s,"display","inline-block"),R(s,"vertical-align","top"),R(s,"padding","0 1.2em"),R(s,"line-height","1.8em"),"largeicons"===F&&R(s,"text-align","center"),R(s,"background-color","rgba(0,0,0,0)"),s.setAttribute("data-index",x),w.$16g[x]=y.items,e[K]=y.label,"iconsonly"!==F&&P(s,e),P(o,s)}P(V,o)}},showDropdownMenu:function(h){var i=this,C=i.$16g[h],H=i.$1g,v=i._view.children[0].children[h],p=i.$17g;if(v&&v!==p){p&&i.hideDropdownMenu();var l=v.getBoundingClientRect(),t=y.getWindowInfo();i.$17g=v,H.setItems(C),H.show(l.left+t.left,l.top+l.height+t.top,!1)}},hideDropdownMenu:function(){this.$1g.hide()},getItemByProperty:function(v,P){var e=this,V=e._items;return V&&0!==V.length?e.$1g.getItemByProperty(v,P,V):W},$12g:function(){var L=this,o=L.$17g;o.style.background=L.$14g,o.style.color=L.$15g,L._autoShow||M(q(),g?"touchstart":"mousedown",L.$9b)},$11g:function(){var u=this,U=u.$17g;U&&(U.style.background="",U.style.color="",u.$17g=W),p(q(),g?"touchstart":"mousedown",u.$9b)},$10g:function($){var Z=this,P=Z._view,W=Z.$1g,b=P.children[0];!q().body.contains(P)||b.contains($.target)||W._view.contains($.target)||Z.hideDropdownMenu()},$13g:function(g){var f=this,D=f.$1g;q().body.contains(f._view)&&D.$13b.$4b.call(D.$13b,g,f._items)},setAutoShow:function(z){var E=this,Z=E.$1g,d=E._view;E._autoShow!==z&&(E._autoShow?(p(d,"mouseover",E.$2g),p(d,"mouseout",E.$4g),p(Z._view,"mouseout",E.$4g),g||(M(d,"mouseover",E.$8g),M(d,"mouseout",E.$8g)),M(d,g?"touchstart":"mousedown",E.$6g)):(p(d,"mouseover",E.$8g),p(d,"mouseout",E.$8g),p(d,g?"touchstart":"mousedown",E.$6g),p(q(),g?"touchstart":"mousedown",E.$9b),g||(M(d,"mouseover",E.$2g),M(d,"mouseout",E.$4g),M(Z._view,"mouseout",E.$4g))),E._autoShow=z)},$3g:function(L){var W=this,f=W._view.children[0],g=L.target;if(f!==g&&f.contains(g)){for(;"header-item"!==g[G];)g=g.parentNode;W.showDropdownMenu(g.getAttribute("data-index"))}},$5g:function(G){var b=this,A=b._view.children[0],Q=b.$1g,J=G.target,x=G.relatedTarget;!A.contains(J)&&!Q._view.contains(J)||A.contains(x)||Q._view.contains(x)||b.hideDropdownMenu()},$7g:function(d){d.preventDefault();var L=this,M=L._view.children[0],o=L.$1g,j=d.target;if(y.isLeftButton(d)&&M!==j&&M.contains(j))if(g){for(;"header-item"!==j[G];)j=j.parentNode;var w=j.getAttribute("data-index"),o=L.$1g,b=L._view.children[0].children[w],K=L.$17g;o.isShowing()&&L.hideDropdownMenu(),b!==K&&L.showDropdownMenu(w)}else if(o.isShowing())L.hideDropdownMenu();else{for(;"header-item"!==j[G];)j=j.parentNode;L.showDropdownMenu(j.getAttribute("data-index"))}},$9g:function(F){var a=this,Z=a._view,$=a.$1g,L=F.target;if(Z.contains(L)){for(var A=Z.querySelectorAll(".header-item"),C=W,h=0;h<A.length;h++){var M=A[h];M.style.background="",M.style.color="","mouseover"===F.type?M.contains(L)&&(C=M):"mouseout"===F.type&&$.isShowing()&&a.$17g===M&&(C=M)}$.isShowing()&&(C||(C=a.$17g),a.showDropdownMenu(C.getAttribute("data-index"))),C&&(C.style.background=a.$14g,C.style.color=a.$15g)}},getShowingMenuIndex:function(){var p=this.$17g;return p?p.getAttribute("data-index"):-1},addTo:function(O){var v=this,T=v._view;P(O,T),v.invalidate()},dispose:function(){var T=this,K=T._view,X=T.$1g;K&&(T._autoShow?(p(K,"mouseover",T.$2g),p(K,"mouseout",T.$4g),p(X._view,"mouseout",T.$4g)):(p(K,"mouseover",T.$8g),p(K,"mouseout",T.$8g),p(K,g?"touchstart":"mousedown",T.$6g),p(q(),g?"touchstart":"mousedown",T.$9b)),p(q(),"keydown",T.$3b),X.dispose(),K.parentNode&&F(K.parentNode,K),T._view=T.$1g=T.$16g=T._items=T.$17g=T.$2g=T.$4g=T.$6g=T.$8g=T.$9b=T.$3b=W)},$19g:function(K,d,u,Y){var o=Q.initContext(K);Q.translateAndScale(o,0,0,1),o.clearRect(0,0,u,Y),y.drawStretchImage(o,y.getImage(d),"fill",0,0,u,Y),o.restore()},validateImpl:function(){var z,x,t,m=this,p=m._view,H=p.querySelectorAll(".menu-item-icon");for(t=0;t<H.length;t++){var J=H[t];z=J.clientWidth,x=J.clientHeight,z&&x&&(Q.setCanvas(J,z,x),m.$19g(J,y.getImage(J.$20g),z,x))}}})}("undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:(0,eval)("this"),Object);