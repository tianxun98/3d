!function(V,B,l){"use strict";var g="ht",K=V[g],S=K.Default,f=S.isTouchable,L=K.Color,k="px",U="0",F="innerHTML",D="className",R="position",j="absolute",v="width",w="height",t="left",o="top",q="right",e="bottom",N="max-width",M="max-height",c=null,J="none",W="",s=V.parseInt,T=V.setTimeout,z=S.getInternal(),X=S.animate,Q=L.titleIconBackground,H=function(){return document},b=function(T){return H().createElement(T)},I=function(){return b("div")},P=function(){return b("canvas")},G=function(P,I,v){P.style.setProperty(I,v,c)},d=function(I,_){return I.style.getPropertyValue(_)},u=function(r,P){r.appendChild(P)},x=function(d,F){d.removeChild(F)},Y=S.eventListenerOptionsFalse,A=(S.eventListenerOptionsTrue,function(D,G,e,a){D.addEventListener(G,e,a?Y:Y)}),r=function(B){var R=B.scrollWidth,v=B.scrollHeight;return B===H().body&&(R=Math.max(R,H().documentElement.scrollWidth),v=Math.max(v,H().documentElement.scrollHeight)),{width:R,height:v}},Z=function(d){var I=d.touches[0];return I?I:d.changedTouches[0]};z.addMethod(S,{panelExpandIcon:{width:16,height:16,comps:[{type:"triangle",rect:[4,4,10,8],background:Q,rotation:3.14}]},panelCollapseIcon:{width:16,height:16,comps:[{type:"triangle",rect:[4,4,10,8],background:Q}]},panelLockIcon:{width:100,height:100,comps:[{type:"roundRect",rect:[10,50,80,40],borderWidth:10,borderColor:Q},{type:"shape",points:[37,45,37,20,37,13,43,13,63,13,69,13,70,19,70,44],segments:[1,2,3,2,3,2],borderWidth:10,borderColor:Q}]},panelUnLockIcon:{width:100,height:100,comps:[{type:"roundRect",rect:[10,50,80,40],borderWidth:10,borderColor:Q},{type:"shape",points:[37,45,37,20,37,13,43,13,63,13,69,13,70,19,70,26],segments:[1,2,3,2,3,2],borderWidth:10,borderColor:Q}]},panelMinimizeIcon:{width:100,height:100,comps:[{type:"shape",points:[10,35,35,35,35,10],segments:[1,2,2],borderWidth:8,borderColor:Q},{type:"shape",points:[90,35,65,35,65,10],segments:[1,2,2],borderWidth:8,borderColor:Q},{type:"shape",points:[10,65,35,65,35,90],segments:[1,2,2],borderWidth:8,borderColor:Q},{type:"shape",points:[65,90,65,65,90,65],segments:[1,2,2],borderWidth:8,borderColor:Q}]},panelRestoreIcon:{width:300,height:300,comps:[{type:"rect",rect:[10,24,268,56],background:Q},{type:"rect",rect:[10,118,268,56],background:Q},{type:"rect",rect:[10,213,268,56],background:Q}]},panelTitleLabelColor:S.labelSelectColor,panelTitleLabelFont:S.labelFont,panelContentLabelFont:S.labelFont,panelTitleBackground:L.titleBackground,panelSeparatorWidth:1,panelSeparatorColor:l},!0);var E=K.widget.Panel=function(F){var c=this,S=c._view=z.createView(null,c);c.$1i=0,c.$18i=new K.Notifier,c.$2i="leftTop",G(S,o,U),G(S,t,U),G(S,R,j),G(S,"overflow","hidden"),c._interactor=new n(c),c.setConfig(F),c.addEventListener(function(m){var L=c.getPanelConfig(m.id),j=L.content;("beginRestore"===m.kind||"betweenResize"===m.kind||"endToggle"===m.kind)&&(j&&j.invalidate&&j.invalidate(),L.items&&L.items.forEach(function($){$&&$.content&&$.content.invalidate&&$.content.invalidate()}))})};S.def(E,B,{ms_v:1,_dragContainment:"parent",setConfig:function(J){function r(b){b.expanded=!b.expanded,p.togglePanel(b.id,!0,!0)}if(J){for(var p=this,P=p._view.parentNode;this._view.children.length;)this._view.removeChild(this._view.children[0]);p._config=J,p.$35i=[],J.expanded==c&&(J.expanded=J.expand!=c?J.expand:!0);var b=p._view,t=p.$24i(J,b,!0),Y=t[2],K=J.width;p.$35i.push(t[1]),J.items&&J.items.forEach(function(s){s.expanded==c&&(s.expanded=s.expand!=c?s.expand:!0);var a=p.$24i(s,Y.children[0]);p.$35i.push(a[1])});var T=I();G(T,v,10+k),G(T,w,10+k),G(T,R,j),G(T,e,U),G(T,q,U),T[D]="resize-area",u(b,T),p.$10i(),J.flowLayout&&G(b,R,"relative"),G(b,"opacity",U),u(H().body,b),K==c&&(K=b.offsetWidth),G(b,v,K+k),G(b,N,K+k);var L=J.content;L&&L.isSelfViewEvent&&(L.setX(0),L.setY(0),L.setWidth(K-2*(J.borderWidth||0)),L.setHeight(J.contentHeight)),J.items&&J.items.forEach(function(z){r(z)}),J.buttons&&J.buttons.indexOf("toggle")<0||r(J),J.minimized==c&&J.minimize!=c&&(J.minimized=J.minimize),J.minimized&&J.minimizable!==!1&&p.minimize(!0),x(H().body,b),G(b,"opacity",W),P&&u(P,b),p.iv()}},getPanelConfig:function(i){var Q=this,P=Q._config,M=P.items;if(P.id===i)return P;if(M)for(var a=0;a<M.length;a++){var r=M[a];if(r.id===i)return r}},getPanelView:function(K){for(var Q=this,d=Q.$35i,e=0;e<d.length;e++){var L=d[e],k=L.parentNode;if(k.$15i===K)return k}},setDragContainment:function(v){this._dragContainment=v},getDragContainment:function(){return this._dragContainment},$20i:function(){var g=this._config,z=g.restoreIconSize||24;return z},$5i:function(c){var b=c.titleIconSize||16;return f&&(b*=1.2),b},$4i:function(G){var E=G.titleHeight||S.widgetTitleHeight;return E},setTitle:function(F,n){if(n==c&&(n=this._config.id),n!=c){var e=this.getPanelConfig(n),t=this.getPanelView(n);e.title=F,t.querySelector(".panel-title span").innerHTML=F}},setInnerPanel:function(q){var L,Y,z=this,E=q.id,H=z.$35i,j=!1;if(q.expanded==c&&(q.expanded=!0),E!=c){var v=z.getPanelConfig(E);if(v){j=!0;var f,e=z.getPanelView(E),y=e.parentNode,n=e.children[0];if(e!==z._view){z.$11i();for(f in v)delete v.key;for(f in q)v[f]=q[f];L=z.$24i(q,y,!1,e),Y=L[1],y.removeChild(e);for(var w=0;w<H.length;w++)if(H[w]===n){H.splice(w,1,Y);break}z.$12i(),v.expanded=!v.expanded,z.togglePanel(v.id,!0,!0),z.iv()}}}if(!j){z.$11i(),L=z.$24i(q,z._view.children[1]),Y=L[1],H.push(Y),z._config.items||(z._config.items=[]);var t=z._config.items;if(t.push(q),z.$12i(),t.length>1){var T=t[t.length-2],p=z.getPanelView(T.id).children[0];G(p,"border-bottom",z.$55i(T))}q.expanded=!q.expanded,z.togglePanel(q.id,!0,!0),z.iv()}},removeInnerPanel:function(S){var l,a=this,W=-1,F=a._config.items;if(F)for(l=0;l<F.length;l++){var J=F[l];if(J.id===S){W=l;break}}if(a.$11i(),W>=0){var X=a.$35i,Q=a.getPanelView(S),h=Q.children[0];for(l=0;l<X.length;l++)if(X[l]===h){X.splice(l,1);break}F.splice(W,1),Q.parentNode.removeChild(Q)}if(a.$12i(),F.length>0){var H=F[F.length-1],Z=a.getPanelView(H.id).children[0];G(Z,"border-bottom",a.$55i(H))}},$6i:function(U){G(U,"cursor","pointer"),G(U,"display","inline-block"),G(U,"margin-right",(f?8:4)+k),G(U,"vertical-align",o)},$24i:function(y,v,f,O){var o=this,N=o._config.flowLayout,J=f?v:I(),s=o.$50i(y),p=o.$3i(y,f);J[D]="ht-widget-panel"+(f?" outer-panel":" inner-panel"),y.borderWidth==c&&(y.borderWidth=f?2:0);var n=y.borderWidth;if(n="0 "+n+k+" "+n+k+" "+n+k+" ",G(J,"border-width",n),G(J,"border-color",y.titleBackground||S.panelTitleBackground),G(J,"border-style","solid"),u(J,p),u(J,s),f||(O?v.insertBefore(J,O):u(v,J)),!N&&f&&y.minimizable!==!1){var R=P(),Q=o.$20i(),V=y.restoreToolTip;z.setCanvas(R,Q,Q),R[D]="control-button button-minimize button-minimize-restore",o.$6i(R),G(R,"display","none"),u(v,R),R.title=V||""}var F=y.panelBackground||y.titleBackground||S.panelTitleBackground;if(G(J,"background-color",F),y.id==c){for(var E=o.$1i++;o.getPanelConfig(E);)E=o.$1i++;y.id=E}return J.$15i=y.id,y.width&&(J.style.width=y.width+k),[J,p,s]},$9i:function(N){var H=P();H[D]="control-button button-toggle button-toggle-expand",H.title=N.toggleToolTip||"";var q=this.$4i(N),u=this.$5i(N);return this.$6i(H),z.setCanvas(H,u,q),H},$8i:function(Z){var q=P(),c="control-button button-independent-switch";q[D]=Z.independent===!0?c+" button-independent-switch-on":c+" button-independent-switch-off",q.title=Z.independentSwitchToolTip||"";var I=this.$4i(Z),M=this.$5i(Z);return this.$6i(q),z.setCanvas(q,M,I),q},$7i:function(G){var e=P();e[D]="control-button button-minimize button-minimize-minimize",e.title=G.minimizeToolTip||"";var Z=this.$4i(G),H=this.$5i(G);return this.$6i(e),z.setCanvas(e,H,Z),e},$55i:function(w){var D=this._config,y=D.items,Z=w.separatorWidth||S.panelSeparatorWidth,x=w.titleBackground||S.panelTitleBackground,z=w.expanded!==!1?x:w.separatorColor||S.panelSeparatorColor||S.brighter(x);return(D===w||y&&y.indexOf(w)===y.length-1)&&(Z=0),Z+k+" solid "+z},$3i:function(c,Q){var l=this,C=l._config.flowLayout,W=I(),i=I(),O=l.$4i(c),A=c.titleBackground,n=c.titleColor,d=c.titleIcon,Z=c.buttons;if(W[D]="panel-title",G(W,R,"relative"),G(W,"background",A||S.panelTitleBackground),G(W,"color",n||S.panelTitleLabelColor),G(W,o,U),G(W,"box-sizing","border-box"),G(W,"-moz-box-sizing","border-box"),G(W,"padding","0 5px 0 0"),G(W,v,"100%"),G(W,"cursor","default"),G(W,"white-space","nowrap"),G(W,"font",S.panelTitleLabelFont),d){var H=P();H[D]="control-button panel-title-icon";var y=l.$4i(c),x=l.$5i(c);l.$6i(H),z.setCanvas(H,x,y),u(W,H)}var J=b("span");G(J,"display","inline-block"),G(J,"margin-left","5px"),J[F]="<span>"+c.title+"</span>",u(W,J),G(W,"line-height",O+k),i[D]="panel-title-controls",G(i,R,j),G(i,t,U),G(i,q,5+k),G(i,o,U),G(i,e,U),G(i,"text-align",q);var B=function(){var t=l.$9i(c);u(i,t)},N=function(){if(!C&&Q&&c.minimizable!==!1){var N=l.$7i(c);u(i,N)}},T=function(){if(!Q){var q=l.$8i(c);u(i,q)}},X=function(p){var G=P();G[D]="control-button custombutton-"+p.name,G.title=p.toolTip||"",G._action=p.action;var B=l.$4i(c),W=l.$5i(c);l.$6i(G),z.setCanvas(G,W,B),u(i,G)};if(Z)for(var m=0;m<Z.length;m++){var r=Z[m];"string"==typeof r?"minimize"===r?N():"independentSwitch"===r?T():"toggle"===r&&B():"object"==typeof r&&X(r)}else N(),B();return u(W,i),W},$50i:function(n){var i=I(),z=n.contentHeight,b=I();G(b,R,"relative"),i[D]="panel-body",G(i,"overflow","hidden");var p=n.contentBackground;if(p===l&&(p="white"),G(i,"background",p),G(i,"font",S.panelContentLabelFont),u(i,b),n.content){var L,N=n.content;N.getView?(u(b,N.getView()),L=b.children[0]):N instanceof Element?(u(b,N),L=b.children[0]):b[F]=N,N.isSelfViewEvent||L&&(G(L,v,"100%"),G(L,w,"100%")),z&&G(b,w,z+k)}return i},$10i:function(){var v=this,u=v._config,z=v._view,c=z.querySelector(".resize-area").style;c.display=u.flowLayout||u.minimized===!0||u.expanded===!1?J:"block"},$11i:function(){var x=this._view,c=x.children[1];this.$13i>=0?this.$13i++:this.$13i=1,G(c,M,W),G(x,N,W)},$12i:function(){var C=--this.$13i;if(0===C){var w=this._view,t=w.children[1];G(t,M,t.scrollHeight+k),G(w,N,w.offsetWidth+k)}},$14i:function(){var y=this._view,e=y.children[0],T=e.children[1].children,f=this._config,X=0;y.$26i=y.offsetWidth,X+=e.children[0].offsetWidth,f.titleIcon&&(X+=e.children[1].offsetWidth,T=e.children[2].children);for(var Z=0;Z<T.length;Z++){var m=T[Z];X+=m.offsetWidth+5}y.$51i=X+15},togglePanel:function(Y,P,L){function y(o){var T=o.target,B=T.parentNode,R=C.getPanelConfig(B.$15i);delete B.$19i,T!==i&&C.$12i(),C.$18i.fire({kind:"endToggle",target:C,id:R.id})}for(var C=this,h=C._view,i=h.children[1],B=c,Q=C.$35i,J=Q.length,p=C._config.exclusive,a=C.$2i,q=[],O=C._config.narrowWhenCollapse,R=0;J>R;R++){var o=Q[R],d=o.parentNode,H=d.$15i,_=C.getPanelConfig(H);H===Y&&(B=d),!P&&p&&_.expanded&&d!==h&&H!==Y&&_.independent!==!0&&q.push(d)}if(B&&!B.$19i){B.$19i=!0;var u=B.children[1],A=B.querySelector(".button-toggle"),r=C.getPanelConfig(B.$15i);if(!A)return;B===h||r.expanded||r.independent===!0||q.forEach(function(b){C.togglePanel(b.$15i,!0)}),B!==h&&C.$11i();var z=200;if(L&&(z=0),C.$18i.fire({kind:"beginToggle",target:C,id:B.$15i}),r.expanded){var w=function(){A[D]="control-button button-toggle",A[D]+=a.indexOf("Bottom")>=0?" button-toggle-expand":" button-toggle-collapse",G(u,v,u.clientWidth+k),r.expanded=!1,G(B.children[0],"border-bottom",C.$55i(r)),X(u).duration(z).set("opacity",U).set(M,U).end(y),O&&B===h&&X(B).duration(z).set(N,B.$51i+k).end(),B[D]+=" panel-collapse",X(B).duration(z).set("padding-bottom",U).end(),C.$28i(r,!0),C.$10i()};O&&B===h&&C.$14i(),w()}else A[D]="control-button button-toggle",A[D]+=a.indexOf("Bottom")>=0?" button-toggle-collapse":" button-toggle-expand",G(u,v,W),r.expanded=!0,G(B.children[0],"border-bottom",C.$55i(r)),X(u).duration(z).set("opacity","1").set(M,u.scrollHeight+k).end(y),O&&B===h&&X(B).duration(z).set(N,(B.$26i||B.offsetWidth)+k).end(),B[D]=B[D].replace(" panel-collapse",W),X(B).duration(z).end(),C.$28i(r,!0),C.$10i()}},$16i:function(){var f=this._view,E=f.$22i,W=f.$23i,m=this.$2i;return E==c&&(m.indexOf(t)>=0?E=f.$22i=0:m.indexOf(q)>=0&&(E=f.$22i=100)),W==c&&(m.indexOf("Top")>=0?W=f.$23i=0:m.indexOf("Bottom")>=0&&(W=f.$23i=100)),[E,W]},$25i:function(){var C=this,L=C._view,K=L.$21i,l=C.$20i(),O=C.$16i(),P=O[0],n=O[1],z=C.$2i;L.children[0].style.display=J,L.children[1].style.display=J,L.children[2].style.display=W,G(L,"padding",U),G(L,N,l+k),"leftTop"===z?(G(L,t,s(d(L,t))+(K.width-l)*P/100+k),G(L,o,s(d(L,o))+(K.height-l)*n/100+k)):"leftBottom"===z?(G(L,t,s(d(L,t))+(K.width-l)*P/100+k),G(L,e,s(d(L,e))+(K.height-l)*(1-n/100)+k)):"rightTop"===z?(G(L,q,s(d(L,q))+(K.width-l)*(1-P/100)+k),G(L,o,s(d(L,o))+(K.height-l)*n/100+k)):"rightBottom"===z&&(G(L,q,s(d(L,q))+(K.width-l)*(1-P/100)+k),G(L,e,s(d(L,e))+(K.height-l)*(1-n/100)+k)),L[D]+=" panel-minimized",C.$18i.fire({kind:"endMinimize",target:C,id:L.$15i})},$17i:function(){var w=this,U=w._config,r=w._view;G(r,"-webkit-transform",W),G(r,"-ms-transform",W),G(r,"transform",W),U.minimized?w.$25i():(w.$18i.fire({kind:"endRestore",target:w,id:U.id}),r[D]=r[D].replace(" panel-minimized",W)),delete r.$19i},minimize:function(L){var p=this,A=p._view;if(!A.$19i&&A.children[0].style.display!==J){var I=p._config,E=A.getBoundingClientRect(),C=p.$20i(),u=E.width,t=E.height,r=C/u,Z=C/t,T=p.$16i(),c=T[0],M=T[1];A.$52i=r,A.$53i=Z,A.$21i=E,p.$18i.fire({kind:"beginMinimize",target:p,id:A.$15i});var N=200;L&&(N=0),I.minimized=!0,A.$19i=!0,I.expanded&&(A.$26i=A.offsetWidth);var j=c+"% "+M+"%";G(A,"-webkit-transform-origin",j),G(A,"-ms-transform-origin",j),G(A,"transform-origin",j),X(A).duration(N).scale(r,Z).end(function(){p.$17i()}),p.$10i()}},restore:function(){var F,p,y,H,R,Q,C,L,B,M,a,u,x=this,D=x._view,b=D.parentNode,P=x._config;if(!D.$19i&&P.minimized){var E=D.$21i,f=D.$52i,m=D.$53i,Z=(P.borderWidth+k,x.$20i()),n=r(b),S=x.$2i;"leftTop"===S?(F=s(d(D,t)),y=s(d(D,o)),R=F,C=y,B=F+E.width-n.width,M=y+E.height-n.height,B>0&&(B>=F?F=0:F-=B),M>0&&(M>=y?y=0:y-=M),a=100*((R-F)/(E.width-Z)),u=100*((C-y)/(E.height-Z)),G(D,t,F+k),G(D,o,y+k)):"leftBottom"===S?(F=s(d(D,t)),H=s(d(D,e)),R=F,L=H,B=F+E.width-n.width,M=H+E.height-n.height,B>0&&(B>=F?F=0:F-=B),M>0&&(M>=H?H=0:H-=M),a=100*((R-F)/(E.width-Z)),u=100*(1-(L-H)/(E.height-Z)),G(D,t,F+k),G(D,e,H+k)):"rightTop"===S?(p=s(d(D,q)),y=s(d(D,o)),Q=p,C=y,B=p+E.width-n.width,M=y+E.height-n.height,B>0&&(B>=p?p=0:p-=B),M>0&&(M>=y?y=0:y-=M),a=100*(1-(Q-p)/(E.width-Z)),u=100*((C-y)/(E.height-Z)),G(D,q,p+k),G(D,o,y+k)):"rightBottom"===S&&(p=s(d(D,q)),H=s(d(D,e)),Q=p,L=H,B=p+E.width-n.width,M=H+E.height-n.height,B>0&&(B>=p?p=0:p-=B),M>0&&(M>=H?H=0:H-=M),a=100*(1-(Q-p)/(E.width-Z)),u=100*(1-(L-H)/(E.height-Z)),G(D,q,p+k),G(D,e,H+k)),D.children[0].style.display="block",D.children[1].style.display="block",D.children[2].style.display=J,G(D,"-webkit-transform","scale("+f+", "+m+")"),G(D,"-ms-transform","scale("+f+", "+m+")"),G(D,"transform","scale("+f+", "+m+")"),D.$22i=a,D.$23i=u,G(D,"-webkit-transform-origin",a+"% "+u+"%"),G(D,"-ms-transform-origin",a+"% "+u+"%"),G(D,"transform-origin",a+"% "+u+"%"),P.narrowWhenCollapse&&!P.expanded?G(D,N,D.$51i+k):G(D,N,D.$26i+k),x.$18i.fire({kind:"beginRestore",target:x,id:D.$15i}),D.$19i=!0,P.minimized=!1,T(function(){X(D).scale(1,1).end(function(){x.$17i()})},30),x.$10i()}},addEventListener:function(d,j,w){this.$18i.add(d,j,w)},removeEventListener:function(K,j){this.$18i.remove(K,j)},setPosition:function(A,r){var M=this._view,b=this.$2i;"leftTop"===b?(G(M,t,A+k),G(M,o,r+k),G(M,q,W),G(M,e,W)):"leftBottom"===b?(G(M,t,A+k),G(M,e,r+k),G(M,q,W),G(M,o,W)):"rightTop"===b?(G(M,q,A+k),G(M,o,r+k),G(M,t,W),G(M,e,W)):"rightBottom"===b&&(G(M,q,A+k),G(M,e,r+k),G(M,t,W),G(M,o,W)),delete M.$22i,delete M.$23i},getPosition:function(){var c=this._view,L=this.$2i;return"leftTop"===L?{x:s(d(c,t)),y:s(d(c,o))}:"leftBottom"===L?{x:s(d(c,t)),y:s(d(c,e))}:"rightTop"===L?{x:s(d(c,q)),y:s(d(c,o))}:"rightBottom"===L?{x:s(d(c,q)),y:s(d(c,e))}:void 0},setPositionRelativeTo:function(G){var u=this,z=u._view.querySelectorAll(".button-toggle"),I="control-button button-toggle",x=u.getPosition();u.$2i=G,u.setPosition(x.x,x.y);for(var q=0;q<z.length;q++){var o=z[q],y=u.getPanelConfig(o.parentNode.parentNode.parentNode.$15i);o[D]=y.expanded?G.indexOf("Bottom")>=0?I+" button-toggle-collapse":I+" button-toggle-expand":G.indexOf("Bottom")>=0?I+" button-toggle-expand":I+" button-toggle-collapse"}u.iv()},getPositionRelativeTo:function(){return this.$2i},invalidate:function(K){var F=this;F._68I||(F._68I=1,S.callLater(F.validate,F,c,K),F.onInvalidated&&F.onInvalidated(),F.fireViewEvent("invalidate"));var T=this._config,p=T.content;p&&p.invalidate&&p.invalidate(),T.items&&T.items.forEach(function(o){o&&o.content&&o.content.invalidate&&o.content.invalidate()})},getIconStretch:function(){var t=this._config.iconStretch||"fill";return t},$27i:function(x,l,_,B,G){var p=z.initContext(x);z.translateAndScale(p,0,0,1),p.clearRect(0,0,_,_);var h=(_-B)/2;S.drawStretchImage(p,S.getImage(l),this.getIconStretch(G),0,h,B,B),p.restore()},$28i:function(H){var C,P,K,s=this,b=H.id,p=s.getPanelView(b),w=p.querySelector(".button-toggle"),X=s.$2i.indexOf("Bottom")>=0;if(P=X?S.panelCollapseIcon:S.panelExpandIcon,K=X?S.panelExpandIcon:S.panelCollapseIcon,w){C=H.expanded?S.getImage(K):S.getImage(P);var d=s.$4i(H),y=s.$5i(H);s.$27i(w,C,d,y,"toggle")}},$29i:function(L){var O,B=this,V=L.id,h=B.getPanelView(V),P=h.querySelector(".button-independent-switch"),u=S.panelUnLockIcon,D=S.panelLockIcon;if(P){O=L.independent!==!0?S.getImage(D):S.getImage(u);var f=B.$4i(L),U=B.$5i(L);B.$27i(P,O,f,U,"switch")}},$30i:function(H){var q=this,Z=H.id,U=q.getPanelView(Z),N=U.querySelector(".button-minimize-minimize"),a=S.panelMinimizeIcon;if(N){var W=q.$4i(H),d=q.$5i(H);q.$27i(N,S.getImage(a),W,d,"miminize")}},$31i:function(R){var Q=this,v=R.id,o=Q.getPanelView(v),a=o.querySelector(".button-minimize-restore"),T=R.titleIcon||S.panelRestoreIcon;if(a){var V=Q.$20i();Q.$27i(a,S.getImage(T),V,V,"restore")}},$32i:function($){var x=this,W=$.id,o=x.getPanelView(W);if($.buttons){var Z=$.buttons;Z.forEach(function(t){var H=t.name,b=t.icon;if(H&&b){var Y=o.querySelector(".custombutton-"+H);if(Y){var T=x.$4i($),M=x.$5i($)-1;x.$27i(Y,S.getImage(b),T,M,"custom")}}})}},$33i:function(M){var N=this,m=M.id,p=N.getPanelView(m),Q=p.querySelector(".panel-title-icon"),d=M.titleIcon;if(Q&&d){var T=N.$4i(M),s=N.$5i(M);N.$27i(Q,S.getImage(d),T,s,"title")}},validateImpl:function(){var V=this,F=V._config;V.$28i(F),V.$30i(F),V.$31i(F),V.$32i(F),V.$33i(F),F.items&&F.items.forEach(function(f){V.$28i(f),V.$29i(f),V.$32i(f)})}});var n=function(w){var u=this,e=w.getView();u.$34i=w,u.addListeners(),A(e,"dblclick",u.$42i.bind(u))};S.def(n,B,{ms_listener:1,getView:function(){return this.$34i.getView()},clear:function(){delete this.$37i,delete this.$38i,delete this.$36i,delete this.$39i},$42i:function(C){for(var j=this.$34i,x=C.target,U=j.$35i,_=U.length,o=0;_>o;o++){var d=U[o];d.contains(x)&&(C.preventDefault(),j.togglePanel(d.parentNode.$15i))}},handle_touchstart:function(K){var q=this,J=q.$34i,e=J._config,Q=e.flowLayout,v=K;if(S.preventDefault(K),S.isLeftButton(K)){var U=K.target,g=J.getView().children[0],x=J.getView().querySelector(".button-minimize-restore");f&&(v=Z(K));var Y=q.$40i={x:v.pageX,y:v.pageY};q.$41i={x:Y.x,y:Y.y},(!Q&&g.contains(U)||x&&x.contains(U))&&(q.$38i=!0,S.startDragging(q,K)),!Q&&q.handle_mousemove(K)&&(q.$37i=!0,S.startDragging(q,K),J.$11i())}},handle_mousedown:function(c){this.handle_touchstart(c)},handle_touchend:function($){var d=this,R=d.$34i,y=$.target,W=R.$35i,Z=W.length,A=0,V=R.getView(),l=V.querySelector(".button-minimize"),S=V.querySelector(".button-minimize-restore");if(!d.$39i&&!d.$36i){if(l&&l.contains(y)||S&&S.contains(y))$.preventDefault(),R._config.minimized?R.restore():R.minimize();else for(;Z>A;A++){var n=W[A],z=n.parentNode,H=z.$15i,O=R.getPanelConfig(H),m=n.querySelector(".button-toggle"),_=n.querySelector(".button-independent-switch");if(m===y)$.preventDefault(),R.togglePanel(H);else if(_===y){$.preventDefault();var U="button-independent-switch-off",o="button-independent-switch-on";O.independent=O.independent==c?!0:!O.independent,_[D]=O.independent?_[D].replace(U,o):_[D].replace(o,U),R.$29i(O)}else y[D]&&y[D].indexOf("control-button custombutton-")>=0&&n.contains(y)&&y._action.call(R,O,R.getPanelView(H),$)}delete d.$40i,delete d.$41i}},handle_mouseup:function(s){this.handle_touchend(s)},handleWindowTouchEnd:function(){var A=this,B=A.$34i;A.$37i&&A.$36i?(B.$18i.fire({kind:"endResize",target:B,id:B.getView().$15i}),B.$12i()):A.$38i&&A.$39i&&B.$18i.fire({kind:"endMove",target:B,id:B.getView().$15i}),this.clear()},handleWindowMouseUp:function(m){this.handleWindowTouchEnd(m)},handle_mousemove:function(t){var T=this,l=T.getView(),a=l.querySelector(".resize-area"),g=a.getBoundingClientRect(),Q={x:g.left,y:g.top,width:g.width,height:g.height};t=f?Z(t):t;var k=t.clientX,J=t.clientY,C=T.$34i._config;return C.expanded&&C.minimized!==!0&&S.containsPoint(Q,{x:k,y:J})?(l.style.cursor="nwse-resize",!0):(l.style.cursor=W,void 0)},handleWindowTouchMove:function(F){F.preventDefault();var b=F;f&&(b=Z(F));var g=this,L=g.$40i,n=g.$41i;if(!(n.x==L.x&&n.y==L.y&&S.getDistance(n,{x:b.pageX,y:b.pageY})<=1)){var i=g.$34i,Q=g.getView(),P=Q.parentNode,I=i._config,R=I.resizeMode||"wh",m=b.pageX-L.x,X=b.pageY-L.y,E=i.$2i;if(g.$37i){var x=Q.children[1].children[0],c=Q.offsetWidth,_=x.offsetHeight,j=c+m,M=_+X;j=Math.max(j,100),M=Math.max(M,100),"w"===R?(G(Q,v,j+k),I.width=j):"h"===R?(G(x,w,M+k),I.contentHeight=M):"wh"===R&&(G(Q,v,j+k),G(x,w,M+k),I.width=j,I.contentHeight=M),E.indexOf("right")>=0&&G(Q,q,s(d(Q,q))-(j-c)+k),E.indexOf("Bottom")>=0&&G(Q,e,s(d(Q,e))-(M-_)+k),L.x=b.pageX,L.y=b.pageY;var Y=I.content;Y&&Y.isSelfViewEvent&&(Y.setX(0),Y.setY(0),Y.setWidth(I.width-2*(I.borderWidth||0)),Y.setHeight(I.contentHeight)),g.$36i?i.$18i.fire({kind:"betweenResize",target:i,id:i.getView().$15i}):(g.$36i=!0,i.$18i.fire({kind:"beginResize",target:i,id:i.getView().$15i}))}else if(g.$38i){var V,z,K,O,y,J,H,a,N,l,U=Q.getBoundingClientRect(),B=U.width,D=U.height,u=r(P),h=u.width,p=u.height,A=i._dragContainment;"leftTop"===E?(V=s(d(Q,t))||0,K=s(d(Q,o))||0,y=V+m,H=K+X,"parent"===A&&(y+B>h&&(y=h-B),H+D>p&&(H=p-D),0>y&&(y=0),0>H&&(H=0)),N=y-V,l=H-K,i.setPosition(y,H),L.x+=N,L.y+=l):"rightBottom"===E?(z=s(d(Q,q))||0,O=s(d(Q,e))||0,J=z-m,a=O-X,"parent"===A&&(0>J&&(J=0),0>a&&(a=0),J+B>h&&(J=h-B),a+D>p&&(a=p-D)),N=J-z,l=a-O,i.setPosition(J,a),L.x-=N,L.y-=l):"rightTop"===E?(z=s(d(Q,q))||0,K=s(d(Q,o))||0,J=z-m,H=K+X,"parent"===A&&(0>J&&(J=0),0>H&&(H=0),J+B>h&&(J=h-B),H+D>p&&(H=p-D)),N=J-z,l=H-K,i.setPosition(J,H),L.x-=N,L.y+=l):"leftBottom"===E&&(V=s(d(Q,t))||0,O=s(d(Q,e))||0,y=V+m,a=O-X,"parent"===A&&(0>y&&(y=0),0>a&&(a=0),y+B>h&&(y=h-B),a+D>p&&(a=p-D)),N=y-V,l=a-O,i.setPosition(y,a),L.x+=N,L.y-=l),g.$39i?i.$18i.fire({kind:"betweenMove",target:i,id:i.getView().$15i}):(g.$39i=!0,i.$18i.fire({kind:"beginMove",target:i,id:i.getView().$15i}))}}},handleWindowMouseMove:function(s){this.handleWindowTouchMove(s)}});var C=K.widget.PanelGroup=function(e){var f=this,Y=f._view=z.createView(null,f);Y.style.border="1px dashed black",Y.style.position="absolute",Y.style.background="rgba(120, 120, 120, 0.4)",f.$48i=new K.List,f._tolerance=100,f._config=e||{hGap:0,vGap:0},f.bindHandlePanelMove=f.handlePanelMove.bind(f),f.bindHandlePanelEvent=f.handlePanelEvent.bind(f),f.invalidate()};S.def(C,B,{invalidate:function(){var L=this;L._68I||(L._68I=1,T(function(){L.validate()},50))},validate:function(){if(this._68I){delete this._68I;var d=this.$48i.get(0);if(d){var J=d.getView().parentNode;J&&(this.layoutPanels(J,"leftTop"),this.layoutPanels(J,"rightTop"),this.layoutPanels(J,"leftBottom"),this.layoutPanels(J,"rightBottom"))}}},setLeftTopPanels:function(){var F=this,s=F.$43i,g=F.$48i;s==c&&(s=F.$43i=new K.List);for(var U=0;U<arguments.length;U++){var q=arguments[U];if("string"==typeof q)s.$49i=q;else{if(q._config.flowLayout)continue;q.setPositionRelativeTo("leftTop"),s.contains(q)||s.add(q),g.contains(q)||F.add(q)}}},setRightTopPanels:function(){var m=this,r=m.$44i,B=m.$48i;r==c&&(r=m.$44i=new K.List);for(var $=0;$<arguments.length;$++){var g=arguments[$];if("string"==typeof g)r.$49i=g;else{if(g._config.flowLayout)continue;g.setPositionRelativeTo("rightTop"),r.contains(g)||r.add(g),B.contains(g)||m.add(g)}}},setLeftBottomPanels:function(){var x=this,O=x.$45i,A=x.$48i;O==c&&(O=x.$45i=new K.List);for(var T=0;T<arguments.length;T++){var d=arguments[T];if("string"==typeof d)O.$49i=d;else{if(d._config.flowLayout)continue;d.setPositionRelativeTo("leftBottom"),O.contains(d)||O.add(d),A.contains(d)||x.add(d)}}},setRightBottomPanels:function(){var F=this,x=F.$46i,N=F.$48i;x==c&&(x=F.$46i=new K.List);for(var X=0;X<arguments.length;X++){var P=arguments[X];if("string"==typeof P)x.$49i=P;else{if(P._config.flowLayout)continue;P.setPositionRelativeTo("rightBottom"),x.contains(P)||x.add(P),N.contains(P)||F.add(P)}}},add:function(N){if(!N._config.flowLayout){var A=this,n=A.$48i;n.contains(N)||(N.addEventListener(A.bindHandlePanelMove),N.addEventListener(A.bindHandlePanelEvent),n.add(N))}},remove:function(F){var r=this,W=r.$48i;W.contains(F)&&(F.removeEventListener(r.bindHandlePanelMove),F.removeEventListener(r.bindHandlePanelEvent),W.remove(F),r.$43i.contains(F)&&r.$43i.remove(F),r.$44i.contains(F)&&r.$44i.remove(F),r.$45i.contains(F)&&r.$45i.remove(F),r.$46i.contains(F)&&r.$46i.remove(F))},layoutPanels:function(s,W,G){var Y=this,t=Y._config,K=t.hGap||0,y=t.vGap||0;if(s){var B=Y.$43i;if("leftBottom"===W?B=Y.$45i:"rightTop"===W?B=Y.$44i:"rightBottom"===W&&(B=Y.$46i),!B)return;var w=B.$49i,b=K,u=y;if(s.contains(Y._view)&&s.removeChild(Y._view),B&&B.size()>0)for(var A=0;A<B.size();A++){var m=B.get(A),n=m.getView();s=s||n.parentNode,G!==A?m.setPosition(b,u):("leftTop"===W?(Y._view.style.right="",Y._view.style.bottom="",Y._view.style.left=b+k,Y._view.style.top=u+k):"leftBottom"===W?(Y._view.style.right="",Y._view.style.top="",Y._view.style.left=b+k,Y._view.style.bottom=u+k):"rightTop"===W?(Y._view.style.left="",Y._view.style.bottom="",Y._view.style.right=b+k,Y._view.style.top=u+k):"rightBottom"===W&&(Y._view.style.left="",Y._view.style.top="",Y._view.style.right=b+k,Y._view.style.bottom=u+k),Y._view.style.width=n.offsetWidth+k,Y._view.style.height=n.offsetHeight+k,s.insertBefore(Y._view,n)),"h"===w?b+=n.offsetWidth+K:"v"===w&&(u+=n.offsetHeight+y)}}},handlePanelEvent:function(u){if("beginToggle"===u.kind||"endToggle"===u.kind||"beginRestore"===u.kind||"endMinimize"===u.kind||"endResize"===u.kind){var _=this,q=u.target,Y=q.getView(),P=Y.parentNode,V=_.$43i,d=_.$44i,J=_.$45i,D=_.$46i,H=_._config,t=c,Z=c,L=q.$47i;if(L==c&&(L=q.$47i=0),"beginToggle"===u.kind?L=q.$47i=L+1:"endToggle"===u.kind&&(L=q.$47i=L-1),V&&V.contains(q)?(t="leftTop",Z=V):J&&J.contains(q)?(t="leftBottom",Z=J):d&&d.contains(q)?(t="rightTop",Z=d):D&&D.contains(q)&&(t="rightBottom",Z=D),"beginToggle"===u.kind&&t&&1===L){var $=I(),o=$.style,G=Z.$49i,m="each";o.fontSize="0",o.position="absolute",o.width="100%","leftTop"===t?(o.left=0,o.top=0):"leftBottom"===t?(o.left=0,o.bottom=0,"v"===G&&(m="reverseEach")):"rightTop"===t?(o.right=0,o.top=0,o.textAlign="right","h"===G&&(m="reverseEach")):"rightBottom"===t&&(o.right=0,o.bottom=0,o.textAlign="right",m="reverseEach"),Z[m](function(M){var S=M.getView(),X=S.style,m=I();X.position="static",m.style.textAlign="left",m.style.position="relative",m.style.display="inline-block","leftTop"===t?(m.style.marginLeft=H.hGap+k,m.style.marginTop=H.vGap+k):"leftBottom"===t?(m.style.marginLeft=H.hGap+k,m.style.marginBottom=H.vGap+k):"rightTop"===t?(m.style.marginRight=H.hGap+k,m.style.marginTop=H.vGap+k):"rightBottom"===t&&(m.style.marginRight=H.hGap+k,m.style.marginBottom=H.vGap+k),m.appendChild(S),$.appendChild(m),"h"===G?m.style.verticalAlign="leftTop"===t||"rightTop"===t?"top":"bottom":$.appendChild(b("br"))}),_.$54i=$,P.appendChild($)}else"endToggle"===u.kind&&t&&0===L?T(function(){P=P.parentNode.parentNode,P.removeChild(_.$54i),delete _.$54i,Z.each(function(N){var F=N.getView(),k=F.style;k.position="absolute",P.appendChild(F)}),_.layoutPanels(P,t)},30):("beginRestore"===u.kind||"endMinimize"===u.kind||"endResize"===u.kind)&&t&&_.layoutPanels(P,t)}},handlePanelMove:function(L){if(!(L.kind.indexOf("Move")<0)){var S=this,N=S._config,r=N.hGap||0,M=N.vGap||0,F=L.target,n=F._view,z=n.getBoundingClientRect(),t=z.width,h=z.height,D=t/2,$=h/2,o=n.parentNode,U=S.$43i,g=S.$44i,Z=S.$45i,k=S.$46i,O=o.getBoundingClientRect(),G=S._tolerance;if("endMove"===L.kind){var B=S._corner;B&&(F.setPositionRelativeTo(B),S.layoutPanels(o,B)),delete S._corner}if("betweenMove"===L.kind){var R=O.left,q=O.top,d=O.width,_=O.height,A=z.left+t/2,X=z.top+h/2;U==c&&(U=S.$43i=new K.List),Z==c&&(Z=S.$45i=new K.List),g==c&&(g=S.$44i=new K.List),k==c&&(k=S.$46i=new K.List),delete S._corner,U.contains(F)?(U.remove(F),S.layoutPanels(o,"leftTop")):Z.contains(F)?(Z.remove(F),S.layoutPanels(o,"leftBottom")):g.contains(F)?(g.remove(F),S.layoutPanels(o,"rightTop")):k.contains(F)&&(k.remove(F),S.layoutPanels(o,"rightBottom"));var E=function(Q,T){var p=R+r,f=q+M;if(0===T.size()){var j=p+D,C=f+$;"leftBottom"===Q?C=q+_-M-$:"rightTop"===Q?j=R+d-r-D:"rightBottom"===Q&&(j=R+d-r-D,C=q+_-M-$);var E=A-j,y=X-C,N=Math.sqrt(E*E+y*y);if(G>N)return S._corner=Q,T.add(F),S.layoutPanels(o,Q,0),!0}else if(1===T.size()){var U=T.get(0),W=U.getView().getBoundingClientRect(),b=W.left+D,n=W.top+$,h=W.left+W.width+r+D,z=f+$,x=p+D,Z=W.top+W.height+M+$;"leftBottom"===Q?(n=W.top+W.height-$,z=q+_-M-$,Z=W.top-M-$):"rightTop"===Q?(b=W.left+W.width-D,h=W.left-r-D,x=R+d-r-D):"rightBottom"===Q&&(b=W.left+W.width-D,n=W.top+W.height-$,h=W.left-r-D,z=q+_-M-$,x=R+d-r-D,Z=W.top-M-$);var v=A-b,t=X-n,I=A-h,l=X-z,B=A-x,H=X-Z,L=s(Math.sqrt(v*v+t*t)),g=s(Math.sqrt(I*I+l*l)),m=s(Math.sqrt(B*B+H*H)),i=[L,g,m];i.sort(function($,l){return $-l});var P=i[0];if(G>P){if(S._corner=Q,P===L)return T.add(F,0),S.layoutPanels(o,Q,0),!0;if(P===g)return T.add(F),T.$49i="h",S.layoutPanels(o,Q,1),!0;if(P===m)return T.add(F),T.$49i="v",S.layoutPanels(o,Q,1),!0}}else if(T.size()>1){for(var u=c,k={},V=[],O=T.$49i,J=0;J<T.size();J++){var e=T.get(J),Y=e.getView(),w=Y.getBoundingClientRect(),K=w.left+D,a=w.top+$;"leftBottom"===Q?a=w.top+w.height-$:"rightTop"===Q?K=w.left+w.width-D:"rightBottom"===Q&&(K=w.left+w.width-D,a=w.top+w.height-$),J===T.size()-1&&(u=w);var E=A-K,y=X-a,N=s(Math.sqrt(E*E+y*y));k[N]=J,V.push(N)}"leftTop"===Q&&"h"===O?(j=u.left+u.width+r+D,C=f+$):"leftTop"===Q&&"v"===O?(j=p+D,C=u.top+u.height+M+$):"leftBottom"===Q&&"h"===O?(j=u.left+u.width+r+D,C=q+_-M-$):"leftBottom"===Q&&"v"===O?(j=p+D,C=u.top-M-$):"rightTop"===Q&&"h"===O?(j=u.left-r-D,C=f+$):"rightTop"===Q&&"v"===O?(j=R+d-r-D,C=u.top+u.height+M+$):"rightBottom"===Q&&"h"===O?(j=u.left-r-D,C=q+_-M-$):"rightBottom"===Q&&"v"===O&&(j=R+d-r-D,C=u.top-M-$),E=A-j,y=X-C,N=s(Math.sqrt(E*E+y*y)),k[N]=J,V.push(N),V.sort(function(n,c){return n-c});var P=V[0];if(G>P)return S._corner=Q,T.add(F,k[P]),S.layoutPanels(o,Q,k[P]),!0}};E("leftTop",U)||E("leftBottom",Z)||E("rightTop",g)||E("rightBottom",k)}}}})}("undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:(0,eval)("this"),Object);