!function(X,y){"use strict";var o="ht",m=o+".graph.",u=X[o],E=u.graph,r=u.Default,R=u.Color,n=null,C="px",H=r.getInternal(),g=H.getPinchDist,N=r.preventDefault,A=r.getTouchCount,M=r.startDragging;H.addMethod(r,{overviewBackground:R.widgetBackground,overviewMaskBackground:R.transparent,overviewContentBorderColor:R.widgetBorder,overviewContentBackground:R.background},!0),E.Overview=function(P){var T=this,J=T._view=H.createView(1,T);T._canvas=H.createCanvas(J),J.style.background=r.overviewBackground,J.appendChild(T._mask=H.createDiv()),T.setGraphView(P),T.addListeners()},r.def(m+"Overview",y,{ms_v:1,ms_fire:1,ms_listener:1,ms_ac:["maskBackground","contentBorderColor","contentBackground","autoUpdate","fixToRect"],_autoUpdate:!0,_fixToRect:!1,_rate:1,_scrollRect:{x:0,y:0,width:0,height:0},_maskBackground:r.overviewMaskBackground,_contentBorderColor:r.overviewContentBorderColor,_contentBackground:r.overviewContentBackground,getGraphView:function(){return this.gv},setGraphView:function(l){var t=this;if(t.gv!==l){var M=t.gv;t.gv=l,M&&(M.removeViewListener(t.handleGraphViewChanged,t),M.ump(t.handleGraphViewPropertyChanged,t)),l&&(l.addViewListener(t.handleGraphViewChanged,t),l.mp(t.handleGraphViewPropertyChanged,t)),t.fp("graphView",M,l),t.redraw()}},getCanvas:function(){return this._canvas},getMask:function(){return this._mask},dispose:function(){this.setGraphView(null)},onPropertyChanged:function(){this.redraw()},handleGraphViewChanged:function(y){this._autoUpdate&&"validate"===y.kind&&this.redraw()},handleGraphViewPropertyChanged:function(u){("canvasBackground"===u.property||this.getFixToRect()&&("zoom"===u.property||"translateX"===u.property||"translateY"===u.property))&&this.redraw()},redraw:function(){var T=this;T._redraw||(T._redraw=1,T.iv(50))},validateImpl:function(){var S=this,K=S.gv,U=S._canvas,j=S.getWidth(),B=S.getHeight(),V=S._redraw;if(K){var L=S._mask,f=L.style,W=K.getViewRect(),J=this.getFixToRect(),A=J?"boolean"==typeof J?K.getContentRect():J:K.getScrollRect(),P=A.x,T=A.y,X=A.width,G=A.height,o=S._rate=Math.max(X/j,G/B),c=S._x=(j-X/o)/2,i=S._y=(B-G/o)/2;if(0!==W.width&&0!==W.height||S.hasRetry||(r.callLater(S.iv,S,n),S.hasRetry=!0),(j!==U.clientWidth||B!==U.clientHeight)&&(H.setCanvas(U,j,B),V=1),H.isSameRect(A,S._scrollRect)||(S._scrollRect=A,V=1),V){var D=H.initContext(U),z=K.getDataModel().getBackground()||S._contentBackground,x=S._contentBorderColor,t=r.devicePixelRatio;D.clearRect(0,0,j*t,B*t),z&&H.fillRect(D,c*t,i*t,X/o*t,G/o*t,z),H.translateAndScale(D,-P/o+c,-T/o+i,1/o),K._42(D),D.restore(),x&&H.drawBorder(D,x,c*t,i*t,X/o*t,G/o*t)}f.background=S._maskBackground,f.left=c+(W.x-P)/o+C,f.top=i+(W.y-T)/o+C,f.width=W.width/o+C,f.height=W.height/o+C,S._redraw=null}else if(V){var D=H.initContext(U);D.clearRect(0,0,j,B),D.restore(),S._redraw=null}},center:function(V){var R=this,W=R.gv;if(W){var E=W._zoom,n=W._29I,h=R._rate,_=R._scrollRect,o=r.getLogicalPoint(V,R._canvas),A=_.x+(o.x-R._x)*h,q=_.y+(o.y-R._y)*h;W.setTranslate((n.width/2-A)*E,(n.height/2-q)*E)}},handle_mousedown:function(x){this.handle_touchstart(x)},handleWindowMouseUp:function(F){this.handleWindowTouchEnd(F)},handleWindowMouseMove:function(s){this.handleWindowTouchMove(s)},handle_mousewheel:function(e){this.handleScroll(e,e.wheelDelta)},handle_DOMMouseScroll:function(Q){2===Q.axis&&this.handleScroll(Q,-Q.detail)},handleScroll:function(b,D){if(N(b),this.gv){var Q=this.gv;D>0?Q.scrollZoomIn():0>D&&Q.scrollZoomOut()}},handle_touchstart:function(X){if(N(X),this.gv&&r.isLeftButton(X)){var n=this,Y=n.gv,t=A(X);1===t?r.isDoubleClick(X)&&Y.isResettable()?Y.reset():(n.center(X),M(n,X)):2===t&&(n._dist=g(X),M(n,X))}},handleWindowTouchEnd:function(){delete this._dist},handleWindowTouchMove:function(z){if(this.gv){var O=this,k=O._dist,R=A(z);1===R?O.center(z):2===R&&k!=n&&O.gv.handlePinch(n,g(z),k)}}})}("undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:(0,eval)("this"),Object);