!function(g,N){"use strict";var m="ht",P=g[m],G="px",F="left",l="top",Z="bottom",M="right",B="innerHTML",b="className",C="",i="width",W="height",x="string",y="position",L="absolute",E="0",X="opacity",S="background",c=P.Default,D=c.getInternal(),k=P.Color,u=c.animate,$=c.isTouchable,w=null,Y=(Math.sqrt,g.parseInt),o=g.setTimeout,H=(Math.round,k.titleIconBackground),h=function(D){return typeof D===x||D instanceof String},p=function(){return document},e=function(T){return p().createElement(T)},T=function(){var P=e("div");return P.tabIndex=-1,P.style.outline="none",P},A=function(){return e("canvas")},Q=function(e,W){V(e,"-webkit-transform",W),V(e,"-ms-transform",W),V(e,"transform",W)},V=function(n,h,W){n.style.setProperty(h,W,w)},R=function(x,G,i){c.def(P.widget[x],G,i)},K=function(D,W){D.appendChild(W)},O=function(){return p().documentElement},j=function(){return O().clientWidth},t=function(){return O().clientHeight},q=c.eventListenerOptionsFalse,d=(c.eventListenerOptionsTrue,function(s,K,V,m){s.addEventListener(K,V,m?q:q)}),s=function(z,I,d,C){z.removeEventListener(I,d,C?q:q)},J=function(c){var x=c.touches[0];return x?x:c.changedTouches[0]};D.addMethod(c,{dialogCloseIcon:{width:100,height:100,comps:[{type:"shape",points:[10,10,90,90],segments:[1,2],borderWidth:8,borderColor:H},{type:"shape",points:[90,10,10,90],segments:[1,2],borderWidth:8,borderColor:H}]},dialogMaximizeIcon:{width:100,height:100,comps:[{type:"rect",rect:[10,15,80,75],borderWidth:6,borderColor:H},{type:"rect",rect:[10,10,80,20],background:H}]},dialogRestoreIcon:{width:100,height:100,comps:[{type:"rect",rect:[10,34,56,56],borderWidth:8,borderColor:H},{type:"rect",rect:[10,34,56,14],background:H},{type:"rect",rect:[34,10,56,14],background:H},{type:"rect",rect:[82,10,8,56],background:H},{type:"rect",rect:[66,62,24,8],background:H}]},dialogTitleLabelColor:c.labelSelectColor,dialogTitleLabelFont:($?"18":"14")+"px arial, sans-serif",dialogContentLabelFont:c.labelFont,dialogTitleBackground:k.titleBackground,dialogHeaderBackground:k.headerBackground,dialogButtonBackground:"#1ABC9C",dialogButtonSelectBackground:"#16A085",dialogButtonLabelColor:"#fff"},!0);var z=function(V){var k=this;k.$1d=V,k.addListeners()};c.def(z,N,{ms_listener:1,getView:function(){return this.$1d.getView()},clear:function(){delete this.$2d,delete this.$3d,delete this.$4d,delete this.$5d},handle_touchstart:function(v){var k=this,W=k.$1d,A=W.$6d,p=W._config,I=W.$7d,z=v,S=v.target;if(I.contains(S)||c.preventDefault(v),c.isLeftButton(v)){$&&(z=J(v));var i=k.$8d={x:z.pageX,y:z.pageY};k.$9d={x:i.x,y:i.y},!p.maximized&&p.draggable&&A.contains(S)&&(k.$4d=!0,c.startDragging(k,v)),k.handle_mousemove(v)&&(k.$2d=!0,c.startDragging(k,v)),I.contains(v.target)||W.$41d.focus()}},handle_mousedown:function(I){this.handle_touchstart(I)},handle_touchend:function(o){if(c.isLeftButton(o)&&!this.$5d&&!this.$3d){var e=this,A=e.$1d,W=o.target,Z=A._config,g=A.$18d,T=A.$16d;for(Z.closable&&g.contains(W)&&A.hide(),Z.maximizable&&T.contains(W)&&(Z.maximized?A.restore():A.maximize());W&&(W.className||"").indexOf("dialog-button")<0;)W=W.parentNode;W&&W.buttonItem&&A.action&&A.action(W.buttonItem,o),delete e.$8d,delete e.$9d}},handle_mouseup:function(T){this.handle_touchend(T)},handleWindowTouchEnd:function(W){var Z=this,b=Z.$1d,v=b.$10d;Z.$2d&&Z.$3d?v.fire({kind:"endResize",target:b,originEvent:W}):Z.$4d&&Z.$5d&&v.fire({kind:"endMove",target:b,originEvent:W}),this.clear()},handleWindowMouseUp:function(Y){this.handleWindowTouchEnd(Y)},handle_mousemove:function(Q){var _=this.$1d._config;if(_.maximized)return!1;if("w"!==_.resizeMode&&"h"!==_.resizeMode&&"wh"!==_.resizeMode)return!1;var b=this,t=b.getView(),j=t.querySelector(".resize-area"),F=j.getBoundingClientRect(),T={x:F.left,y:F.top,width:F.width,height:F.height};Q=$?J(Q):Q;var n=Q.clientX,D=Q.clientY,i={x:n,y:D};return c.containsPoint(T,i)?(V(t,"cursor","nwse-resize"),!0):(V(t,"cursor",C),void 0)},handleWindowTouchMove:function(T){T.preventDefault();var M=T;$&&(M=J(T));var n=this,L=n.$8d,R=n.$9d;if(!(R.x==L.x&&R.y==L.y&&c.getDistance(R,{x:M.pageX,y:M.pageY})<=1)){var C=n.$1d,x=C._config,Z=C.$21d,W=x.resizeMode||"wh",v=M.pageX-L.x,N=M.pageY-L.y;if(n.$2d){var E=Z.offsetWidth,P=Z.offsetHeight,H=E+v,r=P+N;if(H=Math.max(H,50),r=Math.max(r,50),"center"===x.position||x.position==w){var d={},U=Z.getBoundingClientRect();d.x=U.left,d.y=U.top,x.position=d}"w"===W?(C.setSize(H,P),L.x+=H-E):"h"===W?(C.setSize(E,r),L.y+=r-P):"wh"===W&&(C.setSize(H,r),L.x+=H-E,L.y+=r-P),n.$3d?C.$10d.fire({kind:"betweenResize",target:C,originEvent:T}):(n.$3d=!0,C.$10d.fire({kind:"beginResize",target:C,originEvent:T}))}else if(n.$4d){var Q=Z.getBoundingClientRect(),I=Q.width,o=Q.height,m=j(),X=t(),e=Y(Z.style.left)||0,g=Y(Z.style.top)||0,A=e+v,i=g+N,D=C.adjustPosition({x:A,y:i},{width:I,height:o},{width:m,height:X});D&&(A=D.x,i=D.y);var S=A-e,B=i-g;V(Z,F,A+G),V(Z,l,i+G),L.x+=S,L.y+=B,x.position={x:A,y:i},n.$5d?C.$10d.fire({kind:"betweenMove",target:C,originEvent:T}):(n.$5d=!0,C.$10d.fire({kind:"beginMove",target:C,originEvent:T}))}}},handleWindowMouseMove:function(G){this.handleWindowTouchMove(G)},handleWindowResize:function(){var R=this,q=R,P=q._config,e=q.$21d,Y=j(),O=t(),d=P.width,X=P.height,a=P.position||"center";P.maximized?(V(e,i,Y+G),V(e,W,O+G),V(e,l,E),V(e,F,E)):(V(e,i,d+G),V(e,W,X+G),"center"===a?(V(e,F,(Y-d)/2+G),V(e,l,(O-X)/2+G)):(V(e,F,a.x+G),V(e,l,a.y+G))),q.iv()},handle_mousewheel:function(r){r.stopPropagation()},handle_DOMMouseScroll:function(K){K.stopPropagation()}}),P.widget.Dialog=function(v){var U=this,S=U._view=D.createView(null,U);S[b]="ht-widget-dialog",V(S,y,L),c.baseZIndex!=w&&V(S,"z-index",c.baseZIndex+"");var J=U.$11d=new z(U);U.bindingHandleWindowResize=J.handleWindowResize.bind(U),U.$10d=new P.Notifier,v&&U.setConfig(v)},R("Dialog",N,{ms_v:1,setTitle:function(F){this._config.title=F,this.getView().querySelector(".dialog-container-title span").innerHTML=F},clearNodes:function(c){if(c)for(;c.firstChild;)c.removeChild(c.firstChild)},$31d:function(){var o=this,a=o.$6d=T(),R=o._config,D=o.$12d=o.$13d();a[b]="dialog-container-title",V(a,"cursor","default"),V(a,"white-space","nowrap"),V(a,"overflow","hidden"),V(a,"font",c.dialogTitleLabelFont),V(a,S,R.titleBackground||c.dialogTitleBackground),V(a,"color",R.titleColor||c.dialogTitleLabelColor);var F=e("span"),Z=o.$25d();if(R.titleAlign&&V(a,"text-align",R.titleAlign),R.titleIcon){var L=o.$14d=o.$15d();K(a,L)}if(R.title&&R.title.trim&&(R.title=R.title.trim()),F[B]=R.title||"&nbsp;",K(a,F),R.maximizable){var k=o.$16d=o.$17d();K(D,k)}if(R.closable){var p=o.$18d=o.$19d();K(D,p)}return K(a,D),V(a,"display","block"),V(a,"line-height",Z+G),a},$13d:function(){var X=T();return V(X,y,L),V(X,F,E),V(X,M,5+G),V(X,l,E),V(X,Z,E),V(X,"text-align",M),V(X,"white-space","nowrap"),X[b]="dialog-title-controls",X},$20d:function(){var B=this.$21d=T(),k=this._config,A=k.borderWidth;return V(B,y,"fixed"),V(B,"box-shadow","rgba(0, 0, 0, 0.2) 0px 5px 10px 0px"),V(B,"padding",E+" "+A+G+" "+A+G+" "+A+G),V(B,"box-sizing","border-box"),V(B,"-moz-box-sizing","border-box"),B[b]="dialog-container",V(B,S,k.titleBackground||c.dialogTitleBackground),B},$22d:function(){var C,q=this,t=q._config,x=q.$7d=T(),A=t.content,H=0,U=t.contentPadding||0;t.buttons!=w&&t.buttons.length>0&&(H=32),h(A)?x[B]=A:A.getView?(C=A.getView(),K(x,C)):(C=A,K(x,C)),V(x,y,L),V(x,"font",c.dialogContentLabelFont),P.Default.appendToScreen(x);var v=x.offsetWidth+1,N=x.offsetHeight,s=q.$25d();return t.width==w&&(t.width=v+10+2*U),t.height==w&&(t.height=N+s+H+5+2*U),P.Default.removeHTML(x),C&&(V(C,"box-sizing","border-box"),V(C,"-moz-box-sizing","border-box"),V(C,i,"100%"),V(C,W,"100%")),x[b]="dialog-content",V(x,l,s+U+G),V(x,Z,H+U+G),V(x,F,U+G),V(x,M,U+G),V(x,"overflow","hidden"),x},getOverlayDiv:function(){return this.$41d},$23d:function(){var q=this.$41d=T();return q[b]="dialog-overlay",V(q,i,"100%"),V(q,W,"100%"),V(q,y,"fixed"),V(q,l,E),V(q,F,E),V(q,S,"rgba(235, 235, 235, 0.7)"),q},_config:w,setSize:function(o,X){var z=this,h=z._config;h&&(h.width=o,h.height=X,z.isShowing()&&(z.bindingHandleWindowResize(),z.iv()))},getConfig:function(){return this._config},$24d:function(){var j=this._config,K=j.titleIconSize||16;return $&&(K*=1.2),K},$25d:function(){var $=this._config,j=$.titleHeight||c.widgetTitleHeight;return j},$26d:function(v){V(v,"cursor","pointer"),V(v,"display","inline-block"),V(v,"margin-right",($?8:4)+G),V(v,"vertical-align",l)},$27d:function(){var c=this.$30d=T(),k=10;return $&&(k=20),V(c,i,k+G),V(c,W,k+G),V(c,y,L),V(c,Z,E),V(c,M,E),c[b]="resize-area",c},$15d:function(){var C=this,G=A();G[b]="dialog-title-control dialog-title-control-icon";var j=C.$25d(),y=C.$24d();return C.$26d(G),D.setCanvas(G,y,j),G},$17d:function(){var Q=A();Q[b]="dialog-title-control dialog-title-control-maximize";var s=this.$25d(),S=this.$24d();return this.$26d(Q),D.setCanvas(Q,S,s),Q},$19d:function(){var u=A();u[b]="dialog-title-control dialog-title-control-close";var B=this.$25d(),N=this.$24d();return this.$26d(u),D.setCanvas(u,N,B),u},$28d:function(){var N=T();return V(N,S,"white"),V(N,i,"100%"),V(N,W,"100%"),V(N,y,"relative"),N},$29d:function(){var H=this,C=T();V(C,"line-height",32+G),V(C,y,L),V(C,Z,E),V(C,F,E),V(C,"white-space","nowrap"),V(C,"overflow","hidden"),V(C,M,E),V(C,S,c.dialogHeaderBackground),C[b]="dialog-container-buttons";var f=this._config,a=f.buttonsAlign||M,z=0;return V(C,"text-align",a),H.$42d=[],f.buttons.forEach(function(I){var f=new P.widget.Button,Y=f.getView();Y[b]="dialog-button "+I.className,Y.buttonItem=I,H.$42d.push(f),f.setBorderColor(w),f.setBackground(c.dialogButtonBackground),f.setSelectBackground(c.dialogButtonSelectBackground),f.setLabelColor(c.dialogButtonLabelColor),V(Y,y,"relative"),V(Y,"display","inline-block"),V(Y,"text-align",F),V(Y,"height",24+G);var E=$?10:5;a===F||a===M?V(Y,"margin-"+a,E+G):0===z||V(Y,"margin-"+F,E+G),V(Y,"vertical-align","middle");var J=c.getTextSize(f.getLabelFont(),I.label).width+10;f.onClicked=function(k){I.action&&I.action.call(H,I,k)},f.setLabel(I.label),f.setDisabled(I.disabled),V(Y,i,J+G),K(C,f.getView()),z++}),C},setConfig:function(F){if(F){var P=this,v=P._view;P._config=F,P.action=F.action,P.clearNodes(v),F.borderWidth==w&&(F.borderWidth=5);var S=P.$23d(),p=P.$28d(),Q=P.$31d(),T=P.$22d(),U=P.$20d(),j=P.$30d=P.$27d();if(K(v,S),K(v,U),K(U,p),K(p,Q),K(p,T),F.buttons!=w&&F.buttons.length>0){var W=P.$29d();K(p,W)}K(U,j),F.maximized?(F.maximized=!1,P.bindingHandleWindowResize(),P.maximize(!0)):P.bindingHandleWindowResize(),P.isShowing()&&P.iv()}},hide:function(){var k=this,D=k.$21d,Q=k.$41d,l=k._view;l[b]="ht-widget-dialog",u(D).duration(200).scale(.7).set(X,E).end(function(){k.onHidden&&k.onHidden(),P.Default.removeHTML(l),k.$10d.fire({kind:"hide",target:k})}),u(Q).duration(200).set(X,E).end(),s(g,"resize",k.bindingHandleWindowResize)},isShowing:function(){return!!this._view.parentNode},setModal:function(b){this.$41d.style.display=b?"block":"none"},isModal:function(){return"none"!==this.$41d.style.display},$32d:function(){var q=this,j=q._config,y=q.$21d;Q(y,C),q.iv(),j.maximized?q.$10d.fire({kind:"maximize",target:q}):q.$10d.fire({kind:"restore",target:q})},maximize:function(c){var v=this,R=v.$21d,I=v._config;if(!I.maximized){I.maximized=!0,v.$33d(),v.$16d[b]="dialog-title-control dialog-title-control-minimize";var e=j(),r=t(),n=I.width,k=I.height,p=Y(R.style.left)||0,Z=Y(R.style.top)||0;v.$36d=n,v.$37d=k,v.$34d=p,v.$35d=Z;var D=c?0:200;u(R).duration(D).set(F,E).set(l,E).set(i,e+G).set(W,r+G).end(function(){v.$32d()})}},restore:function(){var _=this,Y=_.$34d,v=_.$35d,M=_.$36d,N=_.$37d,L=_._config;if(L.maximized&&(L.maximized=!1,_.$33d(),_.$16d[b]="dialog-title-control dialog-title-control-maximize",_.isShowing()&&Y!=w&&v!=w&&M!=w&&N!=w)){var d=_.$21d;u(d).duration(200).set(F,Y+G).set(l,v+G).set(i,M+G).set(W,N+G).end(function(){_.$32d()})}delete _.$34d,delete _.$35d,delete _.$36d,delete _.$37d},show:function(){var c=this,A=c._view,n=c._config,U=c.$21d,s=c.$41d;n&&n.zIndex!=w&&V(A,"z-index",n.zIndex+C),P.Default.appendToScreen(A),Q(U,"scale(0.7)"),V(U,X,E),c.iv(),c.validate(),c._view[b]+=" dialog-show",o(function(){u(U).duration(200).scale(1).set(X,"1").end(function(){V(U,i,U.clientWidth+G),V(U,W,U.clientHeight+G),c.onShown&&c.onShown(),c.$10d.fire({kind:"show",target:c})}),u(s).duration(200).set(X,"1").end(),d(g,"resize",c.bindingHandleWindowResize)},30)},setPosition:function(f){var K=this.$21d;K.style.left=f.x+"px",K.style.top=f.y+"px"},addEventListener:function(M,f,L){this.$10d.add(M,f,L)},removeEventListener:function(W,C){this.$10d.remove(W,C)},$38d:function(B,I,N,_){var Q=D.initContext(B);D.translateAndScale(Q,0,0,1),Q.clearRect(0,0,N,N);var O=(N-_)/2;c.drawStretchImage(Q,c.getImage(I),"fill",0,O,_,_),Q.restore()},$33d:function(){var s=this,l=s._config,Q=s.$16d,o=l.maximized?c.dialogRestoreIcon:c.dialogMaximizeIcon;if(Q&&o){var T=s.$25d(),q=s.$24d();s.$38d(Q,c.getImage(o),T,q)}},$39d:function(){var o=this,a=o._config,M=o.$14d,z=a.titleIcon;if(M&&z){var T=o.$25d(),V=o.$24d();o.$38d(M,c.getImage(z),T,V)}},$40d:function(){var S=this,J=S.$18d,Q=c.dialogCloseIcon;if(J&&Q){var N=S.$25d(),g=S.$24d();S.$38d(J,c.getImage(Q),N,g)}},invalidate:function(Y){var N=this,d=N.$42d;N._68I||(N._68I=1,c.callLater(N.validate,N,w,Y),N.onInvalidated&&N.onInvalidated(),N.fireViewEvent("invalidate"));var t=N._config.content;t.invalidate&&t.invalidate(),d&&d.forEach(function(m){m.iv()})},validateImpl:function(){var g=this;g.$40d(),g.$33d(),g.$39d();var K=g._config.content;K.initView&&(K.setX(0),K.setY(0),K.setWidth(g.$7d.clientWidth),K.setHeight(g.$7d.clientHeight))},adjustPosition:function(G,c,y){var X=c.width,K=c.height,L=y.width,J=y.height,o=G.x,m=G.y,l=this._config,Z=l.minDragSize||20;return"inside"===l.dragMode?(o+X>L&&(o=L-X),m+K>J&&(m=J-K),0>o&&(o=0),0>m&&(m=0)):(null==l.dragMode||"none"===l.dragMode)&&(-X+Z>o&&(o=-X+Z),o>L-Z&&(o=L-Z),m>J-Z&&(m=J-Z),0>m&&(m=0)),{x:o,y:m}}})}("undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:(0,eval)("this"),Object);